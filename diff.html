<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <style>
        /* --- EXAMPLES --- */

        div.example-title {
            min-width: 7.5em;
            color: #b9ab2d;
        }

        div.example-title span {
            text-transform: uppercase;
        }

        aside.example,
        div.example,
        div.illegal-example {
            padding: 0.5em;
            margin: 1em 0;
            position: relative;
            clear: both;
        }

        div.illegal-example {
            color: red
        }

        div.illegal-example p {
            color: black
        }

        aside.example,
        div.example {
            padding: .5em;
            border-left-width: .5em;
            border-left-style: solid;
            border-color: #e0cb52;
            background: #fcfaee;
        }

        aside.example div.example {
            border-left-width: .1em;
            border-color: #999;
            background: #fff;
        }

        aside.example div.example div.example-title {
            color: #999;
        }
    </style>
    <style>
        /* --- ISSUES/NOTES --- */

        div.issue-title,
        div.note-title,
        div.ednote-title,
        div.warning-title {
            padding-right: 1em;
            min-width: 7.5em;
            color: #b9ab2d;
        }

        div.issue-title {
            color: #e05252;
        }

        div.note-title,
        div.ednote-title {
            color: #2b2;
        }

        div.warning-title {
            color: #f22;
        }

        div.issue-title span,
        div.note-title span,
        div.ednote-title span,
        div.warning-title span {
            text-transform: uppercase;
        }

        div.note,
        div.issue,
        div.ednote,
        div.warning {
            margin-top: 1em;
            margin-bottom: 1em;
        }

        .note>p:first-child,
        .ednote>p:first-child,
        .issue>p:first-child,
        .warning>p:first-child {
            margin-top: 0
        }

        .issue,
        .note,
        .ednote,
        .warning {
            padding: .5em;
            border-left-width: .5em;
            border-left-style: solid;
        }

        div.issue,
        div.note,
        div.ednote,
        div.warning {
            padding: 1em 1.2em 0.5em;
            margin: 1em 0;
            position: relative;
            clear: both;
        }

        span.note,
        span.ednote,
        span.issue,
        span.warning {
            padding: .1em .5em .15em;
        }

        .issue {
            border-color: #e05252;
            background: #fbe9e9;
        }

        .note,
        .ednote {
            border-color: #52e052;
            background: #e9fbe9;
        }

        .warning {
            border-color: #f11;
            border-width: .2em;
            border-style: solid;
            background: #fbe9e9;
        }

        .warning-title:before {
            content: "âš ";
            /*U+26A0 WARNING SIGN*/
            font-size: 3em;
            float: left;
            height: 100%;
            padding-right: .3em;
            vertical-align: top;
            margin-top: -0.5em;
        }

        li.task-list-item {
            list-style: none;
        }

        input.task-list-item-checkbox {
            margin: 0 0.35em 0.25em -1.6em;
            vertical-align: middle;
        }
    </style>

    <title>Web of Things (WoT) Thing Description</title>


    <style>
        .example {
            border-color: #EA1252;
            background: #FEF11E;
            counter-increment: example;
            overflow: auto;
            clear: both;
        }
    </style>
    <style id="respec-mainstyle">
        /*****************************************************************
 * ReSpec 3 CSS
 * Robin Berjon - http://berjon.com/
 *****************************************************************/
        /* Override code highlighter background */

        .hljs {
            background: transparent !important;
        }
        /* --- INLINES --- */

        em.rfc2119 {
            text-transform: lowercase;
            font-style: normal;
            color: #900;
        }

        h1 abbr,
        h2 abbr,
        h3 abbr,
        h4 abbr,
        h5 abbr,
        h6 abbr,
        a abbr {
            border: none;
        }

        dfn {
            font-weight: bold;
        }

        a.internalDFN {
            color: inherit;
            border-bottom: 1px solid #99c;
            text-decoration: none;
        }

        a.externalDFN {
            color: inherit;
            border-bottom: 1px dotted #ccc;
            text-decoration: none;
        }

        a.bibref {
            text-decoration: none;
        }

        cite .bibref {
            font-style: normal;
        }

        code {
            color: #c83500;
        }

        th code {
            color: inherit;
        }
        /* --- TOC --- */

        .toc a,
        .tof a {
            text-decoration: none;
        }

        a .secno,
        a .figno {
            color: #000;
        }

        ul.tof,
        ol.tof {
            list-style: none outside none;
        }

        .caption {
            margin-top: 0.5em;
            font-style: italic;
        }
        /* --- TABLE --- */

        table.simple {
            border-spacing: 0;
            border-collapse: collapse;
            border-bottom: 3px solid #005a9c;
        }

        .simple th {
            background: #005a9c;
            color: #fff;
            padding: 3px 5px;
            text-align: left;
        }

        .simple th[scope="row"] {
            background: inherit;
            color: inherit;
            border-top: 1px solid #ddd;
        }

        .simple td {
            padding: 3px 10px;
            border-top: 1px solid #ddd;
        }

        .simple tr:nth-child(even) {
            background: #f0f6ff;
        }
        /* --- DL --- */

        .section dd>p:first-child {
            margin-top: 0;
        }

        .section dd>p:last-child {
            margin-bottom: 0;
        }

        .section dd {
            margin-bottom: 1em;
        }

        .section dl.attrs dd,
        .section dl.eldef dd {
            margin-bottom: 0;
        }

        #issue-summary>ul,
        .respec-dfn-list {
            column-count: 2;
        }

        #issue-summary li,
        .respec-dfn-list li {
            list-style: none;
        }

        details.respec-tests-details {
            margin-left: 1em;
            display: inline-block;
            vertical-align: top;
        }

        details.respec-tests-details>* {
            padding-right: 2em;
        }

        details.respec-tests-details[open] {
            z-index: 999999;
            position: absolute;
            border: thin solid #cad3e2;
            border-radius: .3em;
            background-color: white;
            padding-bottom: .5em;
        }

        details.respec-tests-details[open]>summary {
            border-bottom: thin solid #cad3e2;
            padding-left: 1em;
            margin-bottom: 1em;
            line-height: 2em;
        }

        details.respec-tests-details>ul {
            width: 100%;
            margin-top: -0.3em;
        }

        details.respec-tests-details>li {
            padding-left: 1em;
        }

        @media print {
            .removeOnSave {
                display: none;
            }
        }
    </style>
    <style>
        /*

github.com style (c) Vasily Polovnyov <vast@whiteants.net>

*/

        .hljs {
            display: block;
            overflow-x: auto;
            padding: 0.5em;
            color: #333;
            background: #f8f8f8;
        }

        .hljs-comment,
        .hljs-quote {
            color: #998;
            font-style: italic;
        }

        .hljs-keyword,
        .hljs-selector-tag,
        .hljs-subst {
            color: #333;
            font-weight: bold;
        }

        .hljs-number,
        .hljs-literal,
        .hljs-variable,
        .hljs-template-variable,
        .hljs-tag .hljs-attr {
            color: #008080;
        }

        .hljs-string,
        .hljs-doctag {
            color: #d14;
        }

        .hljs-title,
        .hljs-section,
        .hljs-selector-id {
            color: #900;
            font-weight: bold;
        }

        .hljs-subst {
            font-weight: normal;
        }

        .hljs-type,
        .hljs-class .hljs-title {
            color: #458;
            font-weight: bold;
        }

        .hljs-tag,
        .hljs-name,
        .hljs-attribute {
            color: #000080;
            font-weight: normal;
        }

        .hljs-regexp,
        .hljs-link {
            color: #009926;
        }

        .hljs-symbol,
        .hljs-bullet {
            color: #990073;
        }

        .hljs-built_in,
        .hljs-builtin-name {
            color: #0086b3;
        }

        .hljs-meta {
            color: #999;
            font-weight: bold;
        }

        .hljs-deletion {
            background: #fdd;
        }

        .hljs-addition {
            background: #dfd;
        }

        .hljs-emphasis {
            font-style: italic;
        }

        .hljs-strong {
            font-weight: bold;
        }
    </style>
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/W3C-WD">
    <link rel="canonical" href="https://www.w3.org/TR/wot-thing-description/">
    <script id="initialUserConfig" type="application/json">
        {
            "specStatus": "WD",
            "processVersion": 2017,
            "shortName": "wot-thing-description",
            "copyrightStart": 2017,
            "noLegacyStyle": true,
            "inlineCSS": true,
            "noIDLIn": true,
            "format": "markdown",
            "wg": "Web of Things Working Group",
            "wgURI": "https://www.w3.org/WoT/WG/",
            "wgPublicList": "public-wot-wg",
            "edDraftURI": "https://w3c.github.io/wot-thing-description/",
            "githubAPI": "https://api.github.com/repos/w3c/wot-thing-description",
            "issueBase": "https://www.github.com/w3c/wot-thing-description/issues",
            "editors": [{
                    "name": "Sebastian Kaebisch",
                    "w3cid": "43064",
                    "company": "Siemens AG",
                    "companyURL": "https://www.siemens.com/"
                },
                {
                    "name": "Takuki Kamiya",
                    "w3cid": "29376",
                    "company": "Fujitsu Laboratories of America, Inc.",
                    "companyURL": "https://www.fujitsu.com/"
                }
            ],
            "localBiblio": {
                "draft-fge-json-schema-validation-00": {
                    "title": "JSON Schema: interactive and non interactive validation",
                    "href": "https://tools.ietf.org/html/draft-fge-json-schema-validation-00",
                    "authors": [
                        "Kris Zyp",
                        "Gary Court"
                    ],
                    "status": "Internet-Draft",
                    "publisher": "IETF"
                },
                "draft-zyp-json-schema-04": {
                    "title": "JSON Schema: core definitions and terminology",
                    "href": "https://tools.ietf.org/html/draft-zyp-json-schema-04",
                    "authors": [
                        "Kris Zyp",
                        "Gary Court"
                    ],
                    "status": "Internet-Draft",
                    "publisher": "IETF"
                },
                "WOT-ARCHITECTURE": {
                    "title": "Web of Things Architecture",
                    "href": "https://w3c.github.io/wot-architecture/",
                    "authors": [
                        "Kazuo Kajimoto",
                        "Matthias Kovatsch",
                        "Uday Davuluru"
                    ],
                    "publisher": "W3C",
                    "date": "20 August 2017"
                }
            },
            "otherLinks": [{
                    "key": "Contributors",
                    "data": [{
                        "value": "In the GitHub repository",
                        "href": "https://github.com/w3c/wot-thing-description/graphs/contributors"
                    }]
                },
                {
                    "key": "Repository",
                    "data": [{
                            "value": "We are on GitHub",
                            "href": "https://github.com/w3c/wot-thing-description/"
                        },
                        {
                            "value": "File a bug",
                            "href": "https://github.com/w3c/wot-thing-description/issues"
                        }
                    ]
                }
            ],
            "publishISODate": "2017-09-14T00:00:00.000Z",
            "generatedSubtitle": "First Public Working Draft 14 September 2017"
        }
    </script>
    <meta name="generator" content="ReSpec 16.2.2">
    <meta name="description" content="This document describes a formal model and common representation for a Web of Things (WoT) Thing Description. A Thing Description describes the metadata and interfaces of Things, where a Thing is an abstraction of a physical entity that provides interactions to and participates in the Web of Things. Thing Descriptions provide a narrow-waist set of interactions based on a small vocabulary that makes it possible both to integrate diverse devices and to allow diverse applications to interoperate. Thing Descriptions, by default, are encoded in JSON-LD. JSON-LD provides both a powerful foundation to represent knowledge about Things and simplicity, since it allows processing as a JSON document. In addition to physical entities, Things can also represent virtual entities. A Thing Description instance can be hosted by the Thing itself or hosted externally due to Thing's resource restrictions (e.g. limited memory space) or when a Web of Things-compatible legacy device is retrofitted with a Thing Description.">
<style type='text/css'>
.diff-old-a {
  font-size: smaller;
  color: red;
}

.diff-new { background-color: yellow; }
.diff-chg { background-color: lime; }
.diff-new:before,
.diff-new:after
    { content: "\2191" }
.diff-chg:before, .diff-chg:after
    { content: "\2195" }
.diff-old { text-decoration: line-through; background-color: #FBB; }
.diff-old:before,
.diff-old:after
    { content: "\2193" }
:focus { border: thin red solid}
</style>
</head>

<body class="h-entry toc-inline" id="respecDocument" aria-busy="false">
<div class="head" role="contentinfo" id="respecHeader">
<p>
<a class="logo" href="https://www.w3.org/">
<img src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C" alt="W3C" width="72" height="48">
</a>
</p>
<p>
</p>
<h1 class="title p-name" id="title">
Web
of
Things
(WoT)
Thing
Description
</h1>
<h2 id="w3c-first-public-working-draft-14-september-2017">
<abbr title="World Wide Web Consortium">
W3C
</abbr>
<del class="diff-old">Editor's
</del>
<ins class="diff-chg">First
Public
Working
</ins>
Draft
<del class="diff-old">12
</del>
<time class="dt-published" datetime="2017-09-14">
<ins class="diff-chg">14
</ins>
September
2017
</time>
</h2>
<dl>
<dt>
This
version:
</dt>
<dd>
<del class="diff-old">https://w3c.github.io/wot-thing-description/
</del>
<a class="u-url" href="https://www.w3.org/TR/2017/WD-wot-thing-description-20170914/">
<ins class="diff-chg">https://www.w3.org/TR/2017/WD-wot-thing-description-20170914/
</ins>
</a>
</dd>
<dt>
Latest
published
version:
</dt>
<dd>
<a href="https://www.w3.org/TR/wot-thing-description/">
https://www.w3.org/TR/wot-thing-description/
</a>
</dd>
<dt>
Latest
editor's
draft:
</dt>
<dd>
<a href="https://w3c.github.io/wot-thing-description/">
https://w3c.github.io/wot-thing-description/
</a>
</dd>
<dt>
Editors:
</dt>
<dd class="p-author h-card vcard" data-editor-id="43064">
<span class="p-name fn">
Sebastian
Kaebisch
</span>,
<a class="p-org org h-org h-card" href="https://www.siemens.com/">
Siemens
AG
</a>
</dd>
<dd class="p-author h-card vcard" data-editor-id="29376">
<span class="p-name fn">
Takuki
Kamiya
</span>,
<a class="p-org org h-org h-card" href="https://www.fujitsu.com/">
Fujitsu
Laboratories
of
America,
Inc.
</a>
</dd>
<dt>
Contributors:
</dt>
<dd>
<a href="https://github.com/w3c/wot-thing-description/graphs/contributors">
In
the
GitHub
repository
</a>
</dd>
<dt>
Repository:
</dt>
<dd>
<a href="https://github.com/w3c/wot-thing-description/">
We
are
on
GitHub
</a>
</dd>
<dd>
<a href="https://github.com/w3c/wot-thing-description/issues">
File
a
bug
</a>
</dd>
</dl>
<p class="copyright">
<a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">
Copyright
</a>
Â©
2017
<a href="https://www.w3.org/">
<abbr title="World Wide Web Consortium">
W3C
</abbr>
</a>
<sup>
Â®
</sup>
(
<a href="https://www.csail.mit.edu/">
<abbr title="Massachusetts Institute of Technology">
MIT
</abbr>
</a>,
<a href="https://www.ercim.eu/">
<abbr title="European Research Consortium for Informatics and Mathematics">
ERCIM
</abbr>
</a>,
<a href="https://www.keio.ac.jp/">
Keio
</a>,
<a href="http://ev.buaa.edu.cn/">
Beihang
</a>
).
<abbr title="World Wide Web Consortium">
W3C
</abbr>
<a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">
liability
</a>,
<a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">
trademark
</a>
and
<a rel="license" href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document">
permissive
document
license
</a>
rules
apply.
</p>
<hr title="Separator for header">
</div>
<section id="abstract" class="introductory">
<h2 id="abstract-0">
Abstract
</h2>
<p>
This
document
describes
a
formal
model
and
common
representation
for
a
Web
of
Things
(WoT)
Thing
Description.
A
Thing
Description
describes
the
metadata
and
interfaces
of
Things,
where
a
Thing
is
an
abstraction
of
a
physical
entity
that
provides
interactions
to
and
participates
in
the
Web
of
Things.
Thing
Descriptions
provide
a
narrow-waist
set
of
interactions
based
on
a
small
vocabulary
that
makes
it
possible
both
to
integrate
diverse
devices
and
to
allow
diverse
applications
to
interoperate.
Thing
Descriptions,
by
default,
are
encoded
in
JSON-LD.
JSON-LD
provides
both
a
powerful
foundation
to
represent
knowledge
about
Things
and
simplicity,
since
it
allows
processing
as
a
JSON
document.
In
addition
to
physical
entities,
Things
can
also
represent
virtual
entities.
A
Thing
Description
instance
can
be
hosted
by
the
Thing
itself
or
hosted
externally
due
to
Thing's
resource
restrictions
(e.g.
limited
memory
space)
or
when
a
Web
of
Things-compatible
legacy
device
is
retrofitted
with
a
Thing
Description.
</p>
</section>
<section id="sotd" class="introductory">
<h2 id="status-of-this-document">
Status
of
This
Document
</h2>
<p>
<em>
This
section
describes
the
status
of
this
document
at
the
time
of
its
publication.
Other
documents
may
supersede
this
document.
A
list
of
current
<abbr title="World Wide Web Consortium">
W3C
</abbr>
publications
and
the
latest
revision
of
this
technical
report
can
be
found
in
the
<a href="https://www.w3.org/TR/">
<abbr title="World Wide Web Consortium">
W3C
</abbr>
technical
reports
index
</a>
at
https://www.w3.org/TR/.
</em>
</p>
<p>
Implementers
need
to
be
aware
that
this
specification
is
considered
unstable.
Vendors
interested
in
implementing
this
specification
before
it
eventually
reaches
the
Candidate
Recommendation
phase
should
subscribe
to
the
<a href="https://github.com/w3c/wot-thing-description">
repository
</a>
and
take
part
in
the
discussions.
</p>
<div class="ednote">
<div class="ednote-title marker" aria-level="3" role="heading" id="h-ednote1">
<span>
Editor's
note
</span>
<span style="text-transform: none">:
The
W3C
WoT
WG
is
asking
for
feedback
</span>
</div>
<p class="">
Please
contribute
to
this
draft
using
the
<a href="https://github.com/w3c/wot-thing-description/issues">
GitHub
Issue
</a>
feature
of
the
<a href="https://github.com/w3c/wot-thing-description/">
WoT
Thing
Description
</a>
repository.
For
feedback
on
security
and
privacy
considerations,
please
use
the
<a href="https://github.com/w3c/wot-security/issues">
WoT
Security
and
Privacy
</a>
Issues,
as
they
are
cross-cutting
over
all
our
documents.
</p>
</div>
<p>
This
document
was
published
by
the
<a href="https://www.w3.org/WoT/WG/">
Web
of
Things
Working
Group
</a>
as
<del class="diff-old">an
Editor's
</del>
<ins class="diff-chg">a
First
Public
Working
</ins>
Draft.
<ins class="diff-new">This
document
is
intended
to
become
a
</ins><abbr title="World Wide Web Consortium"><ins class="diff-new">
W3C
</ins></abbr><ins class="diff-new">
Recommendation.
</ins></p><p>
Comments
regarding
this
document
are
welcome.
Please
send
them
to
<a href="mailto:public-wot-wg@w3.org">
public-wot-wg@w3.org
</a>
(
<a href="mailto:public-wot-wg-request@w3.org?subject=subscribe">
subscribe
</a>,
<a href="https://lists.w3.org/Archives/Public/public-wot-wg/">
archives
</a>
).
</p>
<p>
Publication
as
<del class="diff-old">an
Editor's
</del>
<ins class="diff-chg">a
First
Public
Working
</ins>
Draft
does
not
imply
endorsement
by
the
<abbr title="World Wide Web Consortium">
W3C
</abbr>
Membership.
This
is
a
draft
document
and
may
be
updated,
replaced
or
obsoleted
by
other
documents
at
any
time.
It
is
inappropriate
to
cite
this
document
as
other
than
work
in
progress.
</p>
<p>
This
document
was
produced
by
a
group
operating
under
the
<a href="https://www.w3.org/Consortium/Patent-Policy-20040205/">
5
February
2004
<abbr title="World Wide Web Consortium">
W3C
</abbr>
Patent
Policy
</a>.
<abbr title="World Wide Web Consortium">
W3C
</abbr>
maintains
a
<a href="https://www.w3.org/2004/01/pp-impl/95969/status" rel="disclosure">
public
list
of
any
patent
disclosures
</a>
made
in
connection
with
the
deliverables
of
the
group;
that
page
also
includes
instructions
for
disclosing
a
patent.
An
individual
who
has
actual
knowledge
of
a
patent
which
the
individual
believes
contains
<a href="https://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">
Essential
Claim(s)
</a>
must
disclose
the
information
in
accordance
with
<a href="https://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">
section
6
of
the
<abbr title="World Wide Web Consortium">
W3C
</abbr>
Patent
Policy
</a>.
</p>
<p>
This
document
is
governed
by
the
<a id="w3c_process_revision" href="https://www.w3.org/2017/Process-20170301/">
1
March
2017
<abbr title="World Wide Web Consortium">
W3C
</abbr>
Process
Document
</a>.
</p>
</section>
<nav id="toc">
<h2 class="introductory" id="table-of-contents">
Table
of
Contents
</h2>
<ol class="toc" role="directory">
<li class="tocline">
<a href="#introduction" class="tocxref">
<span class="secno">
1.
</span>
Introduction
</a>
</li>
<li class="tocline">
<a href="#terminology" class="tocxref">
<span class="secno">
2.
</span>
Terminology
</a>
</li>
<li class="tocline">
<a href="#namespaces" class="tocxref">
<span class="secno">
3.
</span>
Namespaces
</a>
</li>
<li class="tocline">
<a href="#conformance" class="tocxref">
<span class="secno">
4.
</span>
Conformance
</a>
</li>
<li class="tocline">
<a href="#vocabularyDefinitionSection" class="tocxref">
<span class="secno">
5.
</span>
Vocabulary
Definition
</a>
<ol class="toc">
<li class="tocline">
<a href="#overview" class="tocxref">
<span class="secno">
5.1
</span>
Overview
</a>
</li>
<li class="tocline">
<a href="#classes" class="tocxref">
<span class="secno">
5.2
</span>
Classes
</a>
<ol class="toc">
<li class="tocline">
<a href="#thing" class="tocxref">
<span class="secno">
5.2.1
</span>
<code>
Thing
</code>
</a>
</li>
<li class="tocline">
<a href="#interactionpattern" class="tocxref">
<span class="secno">
5.2.2
</span>
<code>
InteractionPattern
</code>
</a>
</li>
<li class="tocline">
<a href="#property" class="tocxref">
<span class="secno">
5.2.3
</span>
<code>
Property
</code>
</a>
</li>
<li class="tocline">
<a href="#action" class="tocxref">
<span class="secno">
5.2.4
</span>
<code>
Action
</code>
</a>
</li>
<li class="tocline">
<a href="#event" class="tocxref">
<span class="secno">
5.2.5
</span>
<code>
Event
</code>
</a>
</li>
<li class="tocline">
<a href="#dataschema" class="tocxref">
<span class="secno">
5.2.6
</span>
<code>
DataSchema
</code>
</a>
</li>
<li class="tocline">
<a href="#link" class="tocxref">
<span class="secno">
5.2.7
</span>
<code>
Link
</code>
</a>
</li>
<li class="tocline">
<a href="#security" class="tocxref">
<span class="secno">
5.2.8
</span>
<code>
Security
</code>
</a>
</li>
</ol>
</li>
</ol>
</li>
<li class="tocline">
<a href="#json-ld-serialization" class="tocxref">
<span class="secno">
6.
</span>
JSON-LD
Serialization
</a>
<ol class="toc">
<li class="tocline">
<a href="#thing-as-a-whole" class="tocxref">
<span class="secno">
6.1
</span>
Thing
as
a
Whole
</a>
</li>
<li class="tocline">
<a href="#interaction-resources" class="tocxref">
<span class="secno">
6.2
</span>
Interaction
Resources
</a>
<ol class="toc">
<li class="tocline">
<a href="#property-serialization" class="tocxref">
<span class="secno">
6.2.1
</span>
Property
</a>
</li>
<li class="tocline">
<a href="#action-serialization" class="tocxref">
<span class="secno">
6.2.2
</span>
Action
</a>
</li>
<li class="tocline">
<a href="#event-serialization" class="tocxref">
<span class="secno">
6.2.3
</span>
Event
</a>
</li>
</ol>
</li>
<li class="tocline">
<a href="#link-serialization" class="tocxref">
<span class="secno">
6.3
</span>
Link
</a>
</li>
<li class="tocline">
<a href="#security-serialization" class="tocxref">
<span class="secno">
6.4
</span>
Security
</a>
</li>
<li class="tocline">
<a href="#type-system" class="tocxref">
<span class="secno">
6.5
</span>
Type
System
</a>
<ol class="toc">
<li class="tocline">
<a href="#simple-data" class="tocxref">
<span class="secno">
6.5.1
</span>
Simple
Data
</a>
</li>
<li class="tocline">
<a href="#structured-data" class="tocxref">
<span class="secno">
6.5.2
</span>
Structured
Data
</a>
<ol class="toc">
<li class="tocline">
<a href="#type-system-object" class="tocxref">
<span class="secno">
6.5.2.1
</span>
Object
</a>
</li>
<li class="tocline">
<a href="#type-system-array" class="tocxref">
<span class="secno">
6.5.2.2
</span>
Array
</a>
</li>
</ol>
</li>
<li class="tocline">
<a href="#mapping-to-xml-schema" class="tocxref">
<span class="secno">
6.5.3
</span>
Mapping
to
XML
Schema
</a>
<ol class="toc">
<li class="tocline">
<a href="#object-definition-to-xml-schema" class="tocxref">
<span class="secno">
6.5.3.1
</span>
Object
Definition
to
XML
Schema
</a>
</li>
<li class="tocline">
<a href="#array-definition-to-xml-schema" class="tocxref">
<span class="secno">
6.5.3.2
</span>
Array
Definition
to
XML
Schema
</a>
</li>
</ol>
</li>
</ol>
</li>
<li class="tocline">
<a href="#parsing" class="tocxref">
<span class="secno">
6.6
</span>
Parsing
</a>
</li>
<li class="tocline">
<a href="#examples" class="tocxref">
<span class="secno">
6.7
</span>
Examples
</a>
<ol class="toc">
<li class="tocline">
<a href="#temperature-sensor" class="tocxref">
<span class="secno">
6.7.1
</span>
Temperature
Sensor
</a>
</li>
<li class="tocline">
<a href="#led-master-switch" class="tocxref">
<span class="secno">
6.7.2
</span>
LED
Master
Switch
</a>
</li>
</ol>
</li>
</ol>
</li>
<li class="tocline">
<a href="#security-consideration" class="tocxref">
<span class="secno">
7.
</span>
Security
and
Privacy
Considerations
</a>
</li>
<li class="tocline">
<a href="#acknowledgements" class="tocxref">
<span class="secno">
A.
</span>
Acknowledgements
</a>
</li>
<li class="tocline">
<a href="#references" class="tocxref">
<span class="secno">
B.
</span>
References
</a>
<ol class="toc">
<li class="tocline">
<a href="#normative-references" class="tocxref">
<span class="secno">
B.1
</span>
Normative
references
</a>
</li>
<li class="tocline">
<a href="#informative-references" class="tocxref">
<span class="secno">
B.2
</span>
Informative
references
</a>
</li>
</ol>
</li>
</ol>
</nav>
<section id="introduction">
<h2 id="x1.-introduction">
<span class="secno">
1.
</span>
Introduction
</h2>
<p>
The
<abbr title="World Wide Web Consortium">
W3C
</abbr>
Thing
Description
(TD)
is
a
central
building
block
in
a
Web
of
Things
(WoT)
enabled
system
and
can
be
considered
as
the
entry
point
of
a
Thing
(aka
the
<i>
index.html
</i>
of
the
Thing).
The
TD
consists
of
semantic
metadata
for
the
Thing
itself,
a
narrow-waist
interaction
model
with
WoT's
Properties,
Actions,
and
Events,
a
semantic
schema
to
make
data
models
machine-understandable,
and
features
for
Web
Linking
to
express
relations
among
Things.
</p>
<p>
Properties
can
be
used
for
controlling
(or
retrieving)
parameters,
such
as
a
setting
an
operation
state
(or
getting
the
current
value).
Actions
model
invocation
of
physical
processes,
but
can
also
be
used
to
abstract
RPC-like
calls
of
existing
platforms.
Events
cover
the
push
model
where
state
change
notifications,
discrete
events,
and
streams
of
values
are
sent
asynchronously
to
the
receiver.
In
general,
the
TD
provides
metadata
for
the
different
communication
bindings
(e.g.,
HTTP,
CoAP,
MQTT,
etc.),
mediaTypes
(e.g.,
"application/json",
"application/xml",
"application/cbor",
"application/exi"
etc.),
and
security
policies
(authentication,
authorization,
etc.).
The
default
<del class="diff-old">serialisation
</del>
<ins class="diff-chg">serialization
</ins>
of
the
TD
is
JSON-LD.
</p>
<p>
Example
1
shows
a
simple
TD
instance
that
describes
a
lamp
Thing
with
the
name
<i>
MyLampThing
</i>.
</p>
<div class="example">
<div class="example-title marker">
<span>
Example
1
</span>
<span style="text-transform: none">:
Simple
Thing
Description
Sample
</span>
</div>
            <pre class="hljs json" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"@context"</span>: [<span class="hljs-string">"http://w3c.github.io/wot/w3c-wot-td-context.jsonld"</span>],
  <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"Thing"</span>],
  <span class="hljs-attr">"name"</span>: <span class="hljs-string">"MyLampThing"</span>,
  <span class="hljs-attr">"interaction"</span>: [
      {
          <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"Property"</span>],
          <span class="hljs-attr">"name"</span>: <span class="hljs-string">"status"</span>,
          <span class="hljs-attr">"outputData"</span>: {<span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>},
          <span class="hljs-attr">"writable"</span>: <span class="hljs-literal">false</span>,
          <span class="hljs-attr">"link"</span>: [{
              <span class="hljs-attr">"href"</span>: <span class="hljs-string">"coaps://mylamp.example.com:5683/status"</span>,
              <span class="hljs-attr">"mediaType"</span>: <span class="hljs-string">"application/json"</span>
          }]
      },
      {
          <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"Action"</span>],
          <span class="hljs-attr">"name"</span>: <span class="hljs-string">"toggle"</span>,
          <span class="hljs-attr">"link"</span>: [{
              <span class="hljs-attr">"href"</span>: <span class="hljs-string">"coaps://mylamp.example.com:5683/toggle"</span>,
              <span class="hljs-attr">"mediaType"</span>: <span class="hljs-string">"application/json"</span>
          }]
      },
      {
          <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"Event"</span>],
          <span class="hljs-attr">"name"</span>: <span class="hljs-string">"overheating"</span>,
          <span class="hljs-attr">"outputData"</span>: {<span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>},
          <span class="hljs-attr">"link"</span>: [{
              <span class="hljs-attr">"href"</span>: <span class="hljs-string">"coaps://mylamp.example.com:5683/oh"</span>,
              <span class="hljs-attr">"mediaType"</span>: <span class="hljs-string">"application/json"</span>
          }]
      }
  ]
}
</pre>
</div>
<p>
Based
on
this
content,
we
know
there
exists
one
Property
interaction
resource
with
the
name
<i>
status
</i>.
In
addition,
information
is
provided
such
as
that
this
Property
is
<del class="diff-old">accessable
</del>
<ins class="diff-chg">accessible
</ins>
over
the
CoAP
protocol
with
a
GET
method
(see
CoAP
protocol
binding
description
in
the
<abbr title="World Wide Web Consortium">
W3C
</abbr>
WoT
protocol
template
deliverable
[XXX])
at
coaps://mylamp.example.com:5683/status
(announced
within
the
endoind
(SP?)
structure
by
the
<code>
href
</code>
key),
which
will
return
a
string
status
value
within
a
JSON
structure
(JSON
as
payload
format
is
announced
by
the
<code>
mediaType
</code>
field).
</p>
<div class="ednote">
<div class="ednote-title marker" aria-level="3" role="heading" id="h-ednote2">
<span>
Editor's
note
</span>
</div>
<p class="">
Further
explanation
of
the
example.
</p>
</div>
</section>
<section id="terminology">
<h2 id="x2.-terminology">
<span class="secno">
2.
</span>
Terminology
</h2>
<p>
The
generic
WoT
terminology
is
defined
in
[
<cite>
<a class="bibref" href="#bib-WOT-ARCHITECTURE">
WOT-ARCHITECTURE
</a>
</cite>
]:
<dfn data-dfn-type="dfn" id="dfn-thing">
Thing
</dfn>,
<dfn data-dfn-type="dfn" id="dfn-thing-description">
Thing
Description
</dfn>
(in
short
<dfn data-dfn-type="dfn" id="dfn-td">
TD
</dfn>
),
<dfn data-dfn-type="dfn" id="dfn-web-of-things">
Web
of
Things
</dfn>
(in
short
<b>
<i>
WoT
</i>
</b>
),
<dfn data-dfn-type="dfn" id="dfn-wot-interface">
WoT
Interface
</dfn>
etc.
</p>
</section>
<section id="namespaces">
<h2 id="x3.-namespaces">
<span class="secno">
3.
</span>
Namespaces
</h2>
<p>
The
namespace
for
TD
is
<a href="http://www.w3.org/ns/td#">
http://www.w3.org/ns/td#
</a>.
TD
itself
defines
a
minimal
set
of
classes
and
properties
of
its
own.
A
full
set
of
namespaces
and
prefixes
used
in
this
document
is
shown
in
the
table
below.
</p>
<table id="namespacesTable">
<thead>
<tr>
<th>
Prefix
</th>
<th>
Namespace
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
td
</td>
<td>
<a href="http://www.w3.org/ns/td#">
http://www.w3.org/ns/td#
</a>
</td>
</tr>
<tr>
<td>
rdf
</td>
<td>
<a href="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
http://www.w3.org/1999/02/22-rdf-syntax-ns#
</a>
</td>
</tr>
<tr>
<td>
rdfs
</td>
<td>
<a href="http://www.w3.org/2000/01/rdf-schema#">
http://www.w3.org/2000/01/rdf-schema#
</a>
</td>
</tr>
<tr>
<td>
xsd
</td>
<td>
<a href="http://www.w3.org/2001/XMLSchema#">
http://www.w3.org/2001/XMLSchema#
</a>
</td>
</tr>
</tbody>
</table>
<div class="ednote">
<div class="ednote-title marker" aria-level="3" role="heading" id="h-ednote3">
<span>
Editor's
note
</span>
</div>
<p class="">
ToDo:
complete
table
</p>
</div>
</section>
<section id="conformance">
<h2 id="x4.-conformance">
<span class="secno">
4.
</span>
Conformance
</h2>
<p>
As
well
as
sections
marked
as
non-normative,
all
authoring
guidelines,
diagrams,
examples,
and
notes
in
this
specification
are
non-normative.
Everything
else
in
this
specification
is
normative.
</p>
<p>
The
key
words
<em title="MUST" class="rfc2119">
<em class="rfc2119" title="MUST">
MUST
</em>
</em>,
<em title="MUST NOT" class="rfc2119">
<em class="rfc2119" title="MUST NOT">
MUST
NOT
</em>
</em>,
<em title="REQUIRED" class="rfc2119">
<em class="rfc2119" title="REQUIRED">
REQUIRED
</em>
</em>,
<em title="SHOULD" class="rfc2119">
<em class="rfc2119" title="SHOULD">
SHOULD
</em>
</em>,
<em title="SHOULD NOT" class="rfc2119">
<em class="rfc2119" title="SHOULD NOT">
SHOULD
NOT
</em>
</em>,
<em title="RECOMMENDED" class="rfc2119">
<em class="rfc2119" title="RECOMMENDED">
RECOMMENDED
</em>
</em>,
<em title="MAY" class="rfc2119">
<em class="rfc2119" title="MAY">
MAY
</em>
</em>,
and
<em title="OPTIONAL" class="rfc2119">
<em class="rfc2119" title="OPTIONAL">
OPTIONAL
</em>
</em>
in
this
specification
are
to
be
interpreted
as
described
in
[
<cite>
<a href="#bib-RFC2119" class="bibref">
RFC2119
</a>
</cite>
].
</p>
<p>
A
Thing
Description
instance
complies
with
this
specification
if
it
follows
the
normative
statements
in
Section
<a href="#vocabularyDefinitionSection" class="sec-ref">
<span class="secno">
5.
</span>
<span class="sec-title">
Vocabulary
Definition
</span>
</a>.
</p>
<p>
In
case
of
JSON-LD
<del class="diff-old">serializiation,
</del>
<ins class="diff-chg">serialization,
</ins>
a
Thing
Description
instance
in
JSON-LD
format
complies
with
this
specification
if
it
follows
the
normative
statements
in
Section
<a href="#x6.-json-ld-serialization" class="sec-ref">
<span class="secno">
6.
</span>
<span class="sec-title">
<ins class="diff-new">JSON-LD
</ins>
Serialization
</span>
</a>
</p>
<div class="issue" id="issue-1">
<div class="issue-title marker" aria-level="3" role="heading" id="h-issue1">
<span>
Issue
1
</span>
</div>
<p class="">
We
need
to
be
more
precise
here:
How
to
validate
a
TD?
E.g.,
structure
validation
and/or
RDF
validation?
Comments
are
welcome.
</p>
</div>
</section>
<section id="vocabularyDefinitionSection">
<h2 id="x5.-vocabulary-definition">
<span class="secno">
5.
</span>
Vocabulary
Definition
</h2>
<section id="overview">
<h3 id="x5.1-overview">
<span class="secno">
5.1
</span>
Overview
</h3>
<p>
The
Thing
Description
<del class="diff-old">relys
</del>
<ins class="diff-chg">relies
</ins>
on
a
small
set
of
vocabulary.
An
overview
of
this
vocabulary
with
its
class
context
and
class
relation
is
given
by
the
following
figure.
</p>
<figure id="td-core-model">
<p>
<img src="td-core-model/td-core-model.svg" style="width: 800px;" alt="TD core model figure">
</p>
<figcaption>
Figure
<span class="figno">
1
</span>
<span class="fig-title">
TD
core
model
</span>
</figcaption>
</figure>
<p>
A
detailed
description
of
the
vocabulary
is
given
in
the
next
sub-section.
</p>
</section>
<section id="classes">
<h3 id="x5.2-classes">
<span class="secno">
5.2
</span>
Classes
</h3>
<div class="ednote">
<div class="ednote-title marker" aria-level="4" role="heading" id="h-ednote4">
<span>
Editor's
note
</span>
</div>
<p class="">
There
is
an
information
missing
from
the
tables
in
subsequent
sub-sections
as
to
which
vocabulary
is
optional
or
<del class="diff-old">manditory.
</del>
<ins class="diff-chg">mandatory.
</ins>
Since
the
information
is
already
available
in
the
ontology
files,
tools
need
to
be
updated
to
extract
and
utilize
this
information
to
generate
the
content
of
these
tables.
</p>
</div>
<section id="thing">
<h4 id="x5.2.1-thing">
<span class="secno">
5.2.1
</span>
<code>
Thing
</code>
</h4>
<p>
Describes
a
physical
and/or
virtual
Thing
(may
represent
one
or
more
physical
and
/
or
virtual
Things)
in
the
Web
of
Thing
context.
</p>
<table class="def">
<thead>
<tr>
<th>
Field
Name
</th>
<th>
Description
</th>
<th>
Expected
value
type
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>
interaction
</code>
</td>
<td>
Link
from
a
Thing
to
the
interaction
patterns
it
provides
</td>
<td>
<a href="#interactionpattern">
<code>
InteractionPattern
</code>
</a>
</td>
</tr>
<tr>
<td>
<code>
security
</code>
</td>
<td>
Links
a
given
Thing
to
the
security
information
that
indicates
the
access
metadata
information
for
securely
transmitting
information
via
all
the
resources
of
the
Thing.
</td>
<td>
<a href="#security">
<code>
Security
</code>
</a>
</td>
</tr>
<tr>
<td>
<code>
base
</code>
</td>
<td>
Define
base
URI
that
is
valid
for
all
defined
local
interaction
resources.
All
other
URIs
in
the
TD
must
then
be
resolved
using
the
algorithm
defined
in
[
<cite>
<a class="bibref" href="#bib-RFC3986">
RFC3986
</a>
</cite>
].
This
field
is
optional.
</td>
<td>
<a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI">
<code>
anyURI
</code>
</a>
</td>
</tr>
<tr>
<td>
<code>
name
</code>
</td>
<td>
Name
of
the
Thing
or
interaction
pattern
(must
be
a
valid
keyword
to
be
used
in
the
scripting
API)
</td>
<td>
<a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
</tbody>
</table>
</section>
<section id="interactionpattern">
<h4 id="x5.2.2-interactionpattern">
<span class="secno">
5.2.2
</span>
<code>
InteractionPattern
</code>
</h4>
<p>
Three
interaction
patterns
are
defined
as
subclasses:
Property,
Action
and
Event.
When
a
concrete
Property,
Action
or
Event
is
defined
in
a
Thing
Description,
it
is
called
an
"interaction
resource".
Interactions
between
Things
can
be
as
simple
as
one
Thing
accessing
another
Thing's
data
to
get
or
(in
the
case
the
data
is
also
writable)
change
representation
of
data
such
as
metadata,
status
or
mode.
A
Thing
may
also
be
interested
in
getting
asynchronously
notified
of
future
changes
in
another
Thing,
or
may
want
to
initiate
a
process
served
in
another
Thing
that
may
take
some
time
to
complete
and
monitor
the
progress.
Interactions
between
Things
may
involve
exchanges
of
data
between
them.
This
data
can
be
either
given
as
input
by
the
client
Thing,
returned
as
output
by
the
server
Thing
or
both.
</p>
<table class="def">
<thead>
<tr>
<th>
Field
Name
</th>
<th>
Description
</th>
<th>
Expected
value
type
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>
link
</code>
</td>
<td>
Indicates
the
endpoints
from
which
an
interaction
pattern
is
accessible
</td>
<td>
<a href="#link">
<code>
Link
</code>
</a>
</td>
</tr>
<tr>
<td>
<code>
name
</code>
</td>
<td>
Name
of
the
Thing
or
interaction
pattern
(must
be
a
valid
keyword
to
be
used
in
the
scripting
API)
</td>
<td>
<a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
</tbody>
</table>
<p>
The
class
<code>
InteractionPattern
</code>
has
the
following
subclasses:
</p>
<ul>
<li>
<a href="#action">
<code>
Action
</code>
</a>
</li>
<li>
<a href="#event">
<code>
Event
</code>
</a>
</li>
<li>
<a href="#property">
<code>
Property
</code>
</a>
</li>
</ul>
</section>
<section id="property">
<h4 id="x5.2.3-property">
<span class="secno">
5.2.3
</span>
<code>
Property
</code>
</h4>
<p>
Property
provides
readable
and/or
writeable
data
that
can
be
static
(e.g.,
supported
mode,
rated
output
voltage,
etc.)
or
dynamic
(e.g.,
current
fill
level
of
water,
minimum
recorded
temperature,
etc.).
Please
note,
this
class
also
inherited
all
vocabulary
from
the
InteractionPattern
class.
</p>
<table class="def">
<thead>
<tr>
<th>
Field
Name
</th>
<th>
Description
</th>
<th>
Expected
value
type
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>
outputData
</code>
</td>
<td>
link
to
the
n-ary
class
that
allows
the
declaration
of
the
data
type
and
unit
of
measure
provided
by
an
interaction
pattern.
</td>
<td>
<a href="#dataschema">
<code>
DataSchema
</code>
</a>
</td>
</tr>
<tr>
<td>
<code>
writable
</code>
</td>
<td>
Boolean
value
that
indicates
whether
a
property
is
writable
(=true)
or
not
(=false)
</td>
<td>
<a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#boolean">
<code>
boolean
</code>
</a>
</td>
</tr>
</tbody>
</table>
</section>
<section id="action">
<h4 id="x5.2.4-action">
<span class="secno">
5.2.4
</span>
<code>
Action
</code>
</h4>
<p>
The
Action
interaction
pattern
triggers
changes
or
processes
on
a
Thing
that
take
a
certain
time
to
complete
(i.e.,
actions
cannot
be
applied
instantaneously
like
property
writes).
Examples
include
an
LED
fade
in,
moving
a
robot,
brewing
a
cup
of
coffee,
etc.
Usually,
ongoing
Actions
are
modelled
as
Task
resources,
which
are
created
when
an
Action
invocation
is
received
by
the
Thing.
Please
note,
this
class
also
inherited
all
vocabulary
from
the
InteractionPattern
class.
</p>
<table class="def">
<thead>
<tr>
<th>
Field
Name
</th>
<th>
Description
</th>
<th>
Expected
value
type
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>
outputData
</code>
</td>
<td>
link
to
the
n-ary
class
that
allows
the
declaration
of
the
data
type
and
unit
of
measure
provided
by
an
interaction
pattern.
</td>
<td>
<a href="#dataschema">
<code>
DataSchema
</code>
</a>
</td>
</tr>
<tr>
<td>
<code>
inputData
</code>
</td>
<td>
link
to
the
n-ary
class
that
allows
the
declaration
of
the
data
type
and
unit
of
measure
expected
by
an
interaction
pattern.
</td>
<td>
<a href="#dataschema">
<code>
DataSchema
</code>
</a>
</td>
</tr>
</tbody>
</table>
</section>
<section id="event">
<h4 id="x5.2.5-event">
<span class="secno">
5.2.5
</span>
<code>
Event
</code>
</h4>
<p>
The
Event
interaction
pattern
enables
a
mechanism
for
events
to
be
notified
by
a
Thing
on
a
certain
condition
(e.g.,
the
fill
level
of
the
water
tank
reached
a
given
threshold).
Please
note,
this
class
also
inherited
all
vocabulary
from
the
InteractionPattern
class.
</p>
<table class="def">
<thead>
<tr>
<th>
Field
Name
</th>
<th>
Description
</th>
<th>
Expected
value
type
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>
outputData
</code>
</td>
<td>
link
to
the
n-ary
class
that
allows
the
declaration
of
the
data
type
and
unit
of
measure
provided
by
an
interaction
pattern.
</td>
<td>
<a href="#dataschema">
<code>
DataSchema
</code>
</a>
</td>
</tr>
</tbody>
</table>
</section>
<section id="dataschema">
<h4 id="x5.2.6-dataschema">
<span class="secno">
5.2.6
</span>
<code>
DataSchema
</code>
</h4>
<p>
This
class
embeds
JSON
Schema
declaration
in
a
Linked
Data
form
to
allow,
e.g.,
the
representation
of
pairs
(data
type,
semantic
meaning
such
as
unit
of
measure)
that
are
expected
as
input
data
or
output
data
of
a
given
interaction
pattern.
</p>
</section>
<section id="link">
<h4 id="x5.2.7-link">
<span class="secno">
5.2.7
</span>
<code>
Link
</code>
</h4>
<p>
Communication
metadata
where
a
service
can
be
accessed
by
a
client
application.
An
interaction
might
have
more
than
one
link.
</p>
<table class="def">
<thead>
<tr>
<th>
Field
Name
</th>
<th>
Description
</th>
<th>
Expected
value
type
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>
href
</code>
</td>
<td>
URI
of
the
endpoint
where
an
interaction
pattern
is
provided
</td>
<td>
<a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI">
<code>
anyURI
</code>
</a>
</td>
</tr>
<tr>
<td>
<code>
mediaType
</code>
</td>
<td>
Assign
underlying
media
type
of
the
interaction
pattern
based
on
IANA
(
<a href="https://www.iana.org/assignments/media-types/media-types.xhtml">
https://www.iana.org/assignments/media-types/media-types.xhtml
</a>
)
</td>
<td>
<a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/string">
<code>
string
</code>
</a>
</td>
</tr>
</tbody>
</table>
</section>
<section id="security">
<h4 id="x5.2.8-security">
<span class="secno">
5.2.8
</span>
<code>
Security
</code>
</h4>
<p>
The
(optional)
security
field
can
be
used
to
provide
access
metadata
(self-contained)
information
of
the
Thing
for
securely
transmitting
information
via
all
its
resources.
Also
see
Section
Security
Consideration.
Definition
taken
from
<a href="http://w3c.github.io/wot/current-practices/wot-practices#security">
http://w3c.github.io/wot/current-practices/wot-practices#security
</a>
</p>
</section>
</section>
</section>
<section id="json-ld-serialization">
<h2 id="x6.-json-ld-serialization">
<span class="secno">
6.
</span>
JSON-LD
Serialization
</h2>
<p>
Thing
Description
instances
are
modeled
on
the
classes
defined
in
<a href="#vocabularyDefinitionSection" class="sec-ref">
<span class="secno">
5.
</span>
<span class="sec-title">
Vocabulary
Definition
</span>
</a>,
and
they
are
serialized
in
<a href="https://www.w3.org/TR/json-ld/">
JSON-LD
</a>
by
default,
using
the
vocabulary
defined
there
when
they
are
served
at
run-time.
JSON-LD
is
a
serialization
format
that
adds
a
semantic
layer
on
top
of
the
JSON
specification:
the
terms
that
appear
in
a
JSON
document
should
be
associated
with
uniquely
identified
concepts
from
shared
vocabularies.
This
principle
is
part
of
a
set
of
practices
to
publish
data
on
the
Web
called
Linked
Data,
where
concepts
are
usually
identified
with
URIs
and
originate
from
RDF
vocabularies.
</p>
<section id="thing-as-a-whole">
<h3 id="x6.1-thing-as-a-whole">
<span class="secno">
6.1
</span>
Thing
as
a
Whole
</h3>
<p>
The
JSON-LD
representation
for
a
Thing
Description
is
a
JSON
object
of
which
fields
are
defined
below.
</p>
<table class="def">
<thead>
<tr>
<th>
Field
Name
</th>
<th>
JSON
Construct
</th>
<th>
Mandatory
</th>
<th>
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
@context
</td>
<td>
array
of
strings
</td>
<td>
yes
</td>
<td>
The
array
<em class="rfc2119" title="MUST">
MUST
</em>
contain
a
string
"
<a href="https://w3c.github.io/wot/w3c-wot-td-context.jsonld">
https://w3c.github.io/wot/w3c-wot-td-context.jsonld
</a>
".
Also
see
below.
</td>
</tr>
<tr>
<td>
@type
</td>
<td>
array
of
strings
</td>
<td>
no
</td>
<td>
Gives
annotations
to
the
Thing
</td>
</tr>
<tr>
<td>
name
</td>
<td>
string
</td>
<td>
yes
</td>
<td>
Name
of
the
Thing
</td>
</tr>
<tr>
<td>
base
</td>
<td>
string
</td>
<td>
no
</td>
<td>
Base
URI
for
use
in
a
Thing
Description
</td>
</tr>
<tr>
<td>
interaction
</td>
<td>
array
of
objects
</td>
<td>
no
</td>
<td>
See
<a href="#interaction-resources" class="sec-ref">
<span class="secno">
6.2
</span>
<span class="sec-title">
Interaction
Resources
</span>
</a>
</td>
</tr>
<tr>
<td>
security
</td>
<td>
array
of
objects
</td>
<td>
no
</td>
<td>
See
<a href="#security-serialization" class="sec-ref">
<span class="secno">
6.4
</span>
<span class="sec-title">
Security
</span>
</a>
</td>
</tr>
</tbody>
</table>
<p>
Each
field
in
Thing
class
(see
<a href="#thing" class="sec-ref">
<span class="secno">
5.2.1
</span>
<span class="sec-title">
Thing
</span>
</a>
)
is
represented
by
the
namesake
JSON
field
described
in
the
above
table.
</p>
<p>
The
<code>
@context
</code>
key
is
used
to
define
Thing
Description's
context.
All
JSON
key
terms
that
are
defined
in
the
present
document
(also
see
<a href="#vocabularyDefinitionSection">
Vocabulary
Definition
Section
</a>
)
have
been
put
in
an
external
context
document,
available
at
<code>
<a href="https://www.w3.org/ns/td/w3c-wot-td-context.jsonld">
https://www.w3.org/ns/td/w3c-wot-td-context.jsonld
</a>
</code>.
Each
Thing
Description
instance
in
JSON-LD
<em class="rfc2119" title="MUST">
MUST
</em>
this
context
information
<del class="diff-old">enmbedded
</del>
<ins class="diff-chg">embedded
</ins>
within
an
JSON
array
structure.
Thus,
a
basic
Thing
Description
would
contain
the
following
declaration:
</p>
<div class="example">
<div class="example-title marker">
<span>
Example
2
</span>
</div>
                <pre class="hljs javascript" aria-busy="false" aria-live="polite">{
  <span class="hljs-string">"@context"</span>: [<span class="hljs-string">"https://www.w3.org/ns/td/w3c-wot-td-context.jsonld"</span>],
  ...
}
</pre>
</div>
<p>
In
case
a
single
Thing
Description
instance
involves
several
contexts,
additional
namespaces
with
prefixes
can
be
extended
to
the
<code>
@context
</code>
array
structure.
This
option
proves
relevant
if
one
wants
to
extend
the
existing
Thing
Description
context
without
modifying
it.
For
instance:
</p>
<div class="example">
<div class="example-title marker">
<span>
Example
3
</span>
</div>
                <pre class="hljs javascript" aria-busy="false" aria-live="polite">{
  <span class="hljs-string">"@context"</span>: [<span class="hljs-string">"https://www.w3.org/ns/td/w3c-wot-td-context.jsonld"</span>,
               {<span class="hljs-string">"sensor"</span>: <span class="hljs-string">"http://example.org/sensors#"</span>}],
  ...
}
</pre>
</div>
<p>
<b>
Note:
</b>
Besides
these
pre-defined
terms
in
the
Thing
Description
context,
additional
characteristics
can
be
added
to
Thing
level
such
as
product
ID,
firmware
version,
location,
etc.
These
terms
should
then
appear
in
the
context
of
the
Thing
.
</p>
<div class="ednote">
<div class="ednote-title marker" aria-level="4" role="heading" id="h-ednote5">
<span>
Editor's
note
</span>
</div>
<p class="">
This
note
should
be
moved
to
the
td-context-extension
definition
once
we
have
a
section
for
that.
In
there
it
should
be
also
explained
that
a
context
is
not
necessary
if
you
are
working
outside
of
the
RDF
model
and
if
you
handle
a
TD
just
as
a
simple
JSON
document.
</p>
</div>
<p>
A
sample
TD
snippet
that
relies
on
the
defined
fields
above
is
given
below:
</p>
<div class="example">
<div class="example-title marker">
<span>
Example
4
</span>
</div>
                <pre class="hljs json" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"@context"</span>: [<span class="hljs-string">"https://www.w3.org/ns/td/w3c-wot-td-context.jsonld"</span>],
  <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"Thing"</span>],
  <span class="hljs-attr">"name"</span>: <span class="hljs-string">"MyThing"</span>,
  <span class="hljs-attr">"base"</span>: <span class="hljs-string">"coap://mything.example.com:5683/"</span>,
  <span class="hljs-attr">"interaction"</span>: [
   ...
}
</pre>
</div>
<p>
<b>
Note:
</b>
For
examples
of
full
Thing
Description,
see
<a href="#examples" class="sec-ref">
<span class="secno">
6.7
</span>
<span class="sec-title">
Examples
</span>
</a>
</p>
</section>
<section id="interaction-resources">
<h3 id="x6.2-interaction-resources">
<span class="secno">
6.2
</span>
Interaction
Resources
</h3>
<p>
An
interaction
in
the
context
of
the
Web
of
Things
is
an
exchange
of
data
between
a
Web
client
and
a
Thing.
This
data
can
be
either
given
as
input
by
the
client,
returned
as
output
by
the
Thing,
or
both.
Three
interaction
patterns
are
defined:
<a href="#property-serialization">
Property
</a>,
<a href="#action-serialization">
Action
</a>,
and
<a href="#event-serialization">
Event
</a>.
</p>
<section id="property-serialization">
<h4 id="x6.2.1-property">
<span class="secno">
6.2.1
</span>
Property
</h4>
<p>
The
<code>
Property
</code>
interaction
definitions
(also
see
<a href="#property">
Property
vocabulary
definition
section
</a>
)
provides
metadata
for
readable
and/or
writeable
data
that
can
be
static
(e.g.,
supported
mode,
rated
output
voltage,
etc.)
or
dynamic
(e.g.,
current
fill
level
of
water,
minimum
recorded
temperature,
etc.).
Shown
below
is
an
example
of
a
<code>
Property
</code>
interaction
definition.
</p>
<div class="example">
<div class="example-title marker">
<span>
Example
5
</span>
</div>
                    <pre class="hljs javascript" aria-busy="false" aria-live="polite">{
  ...
  <span class="hljs-string">"interaction"</span>: [
    {
      <span class="hljs-string">"@type"</span>: [<span class="hljs-string">"Property"</span>],
      <span class="hljs-string">"name"</span>: <span class="hljs-string">"temperature"</span>,
      <span class="hljs-string">"outputData"</span>:{ <span class="hljs-string">"type"</span>: <span class="hljs-string">"number"</span> },
      <span class="hljs-string">"writable"</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-string">"link"</span>: [{
        <span class="hljs-string">"href"</span> : <span class="hljs-string">"coap://mytemp.example.com:5683/temp"</span>,
        <span class="hljs-string">"mediaType"</span>: <span class="hljs-string">"application/json"</span>
      }]
    },
  ...
}
</pre>
</div>
<p>
The
JSON-LD
representation
for
a
<code>
Property
</code>
interaction
definition
is
a
JSON
object
of
which
the
fields
are
defined
below.
</p>
<table class="def">
<thead>
<tr>
<th>
Field
Name
</th>
<th>
JSON
Construct
</th>
<th>
Mandatory
</th>
<th>
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
@type
</td>
<td>
array
of
strings
</td>
<td>
yes
</td>
<td>
The
array
<em class="rfc2119" title="MUST">
MUST
</em>
start
with
a
string
"Property"
</td>
</tr>
<tr>
<td>
name
</td>
<td>
string
</td>
<td>
yes
</td>
<td>
Name
of
the
Property
</td>
</tr>
<tr>
<td>
outputData
</td>
<td>
object
</td>
<td>
yes
</td>
<td>
See
<a href="#type-system" class="sec-ref">
<span class="secno">
6.5
</span>
<span class="sec-title">
Type
System
</span>
</a>
</td>
</tr>
<tr>
<td>
writable
</td>
<td>
boolean
</td>
<td>
no
</td>
<td>
a
property
is
writable
(=true)
or
not
(=false)
</td>
</tr>
<tr>
<td>
link
</td>
<td>
array
of
objects
</td>
<td>
no
</td>
<td>
See
<a href="#link-serialization" class="sec-ref">
<span class="secno">
6.3
</span>
<span class="sec-title">
Link
</span>
</a>
</td>
</tr>
</tbody>
</table>
<p>
Each
field
in
Property
class
(see
<a href="#property" class="sec-ref">
<span class="secno">
5.2.3
</span>
<span class="sec-title">
Property
</span>
</a>
)
is
represented
by
the
namesake
JSON
field
described
in
the
above
table.
</p>
</section>
<section id="action-serialization">
<h4 id="x6.2.2-action">
<span class="secno">
6.2.2
</span>
Action
</h4>
<p>
The
<code>
Action
</code>
interaction
pattern
(also
see
<a href="#action">
Action
vocabulary
definition
section
</a>
)
targets
changes
or
processes
on
a
Thing
that
take
a
certain
time
to
complete
(i.e.,
actions
cannot
be
applied
instantaneously
like
property
writes).
Examples
include
an
LED
fade
in,
moving
a
robot,
brewing
a
cup
of
coffee,
etc.
Usually,
ongoing
Actions
are
modeled
as
Task
resources,
which
are
created
when
an
Action
invocation
is
received
by
the
Thing.
</p>
<div class="example">
<div class="example-title marker">
<span>
Example
6
</span>
</div>
                    <pre class="hljs javascript" aria-busy="false" aria-live="polite">{
  ...
  <span class="hljs-string">"interaction"</span>: [
    {
      <span class="hljs-string">"@type"</span>: [<span class="hljs-string">"Action"</span>],
      <span class="hljs-string">"name"</span>: <span class="hljs-string">"fadeIn"</span>,
      <span class="hljs-string">"inputData"</span>: { <span class="hljs-string">"type"</span>: <span class="hljs-string">"integer"</span> },
      <span class="hljs-string">"link"</span>: [{
          <span class="hljs-string">"href"</span> : <span class="hljs-string">"coap://mytemp.example.com:5683/in"</span>,
          <span class="hljs-string">"mediaType"</span>: <span class="hljs-string">"application/json"</span>
      }]
    }
  ]
  ...
}
</pre>
</div>
<p>
JSON-LD
representation
for
an
<code>
Action
</code>
interaction
definition
is
a
JSON
object
of
which
the
fields
are
defined
below.
</p>
<table class="def">
<thead>
<tr>
<th>
Field
Name
</th>
<th>
JSON
Construct
</th>
<th>
Mandatory
</th>
<th>
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
@type
</td>
<td>
array
of
strings
</td>
<td>
yes
</td>
<td>
The
array
<em class="rfc2119" title="MUST">
MUST
</em>
start
with
a
string
"Action"
</td>
</tr>
<tr>
<td>
name
</td>
<td>
string
</td>
<td>
yes
</td>
<td>
Name
of
the
Action
</td>
</tr>
<tr>
<td>
outputData
</td>
<td>
object
</td>
<td>
no
</td>
<td>
See
<a href="#type-system" class="sec-ref">
<span class="secno">
6.5
</span>
<span class="sec-title">
Type
System
</span>
</a>
</td>
</tr>
<tr>
<td>
inputData
</td>
<td>
object
</td>
<td>
no
</td>
<td>
See
<a href="#type-system" class="sec-ref">
<span class="secno">
6.5
</span>
<span class="sec-title">
Type
System
</span>
</a>
</td>
</tr>
<tr>
<td>
link
</td>
<td>
array
of
objects
</td>
<td>
no
</td>
<td>
See
<a href="#link-serialization" class="sec-ref">
<span class="secno">
6.3
</span>
<span class="sec-title">
Link
</span>
</a>
</td>
</tr>
</tbody>
</table>
<p>
Each
field
in
Action
class
(see
<a href="#action" class="sec-ref">
<span class="secno">
5.2.4
</span>
<span class="sec-title">
Action
</span>
</a>
)
is
represented
by
the
namesake
JSON
field
described
in
the
above
table.
</p>
</section>
<section id="event-serialization">
<h4 id="x6.2.3-event">
<span class="secno">
6.2.3
</span>
Event
</h4>
<p>
The
<code>
Event
</code>
interaction
pattern
(also
see
<a href="#event">
Event
vocabulary
definition
section
</a>
)
enables
a
mechanism
to
be
notified
by
a
Thing
on
a
certain
condition.
While
some
protocols
such
as
CoAP
can
provide
such
a
mechanism
natively,
others
do
not.
Furthermore,
Events
might
need
a
specific
configuration
that
requires
data
sent
and
stored
on
the
Thing
in
a
standard
way.
There
are
are
four
mandatory
terms
defined
within
the
<code>
Event
</code>
pattern:
</p>
<div class="example">
<div class="example-title marker">
<span>
Example
7
</span>
</div>
                    <pre class="hljs javascript" aria-busy="false" aria-live="polite">{
  ...
  <span class="hljs-string">"interaction"</span>: [
    {
      <span class="hljs-string">"@type"</span>: [<span class="hljs-string">"Event"</span>],
      <span class="hljs-string">"name"</span>: <span class="hljs-string">"criticalCondition"</span>,
      <span class="hljs-string">"outputData"</span>:  { <span class="hljs-string">"type"</span>: <span class="hljs-string">"string"</span> },
      <span class="hljs-string">"link"</span>: [{
          <span class="hljs-string">"href"</span> : <span class="hljs-string">"coap://mytemp.example.com:5683/ev"</span>,
          <span class="hljs-string">"mediaType"</span>: <span class="hljs-string">"application/json"</span>
      }]
    }
  ]
  ...
}
</pre>
</div>
</section>
<p>
The
JSON-LD
representation
for
an
<code>
Event
</code>
interaction
definition
is
a
JSON
object
of
which
the
fields
are
defined
below.
</p>
<table class="def">
<thead>
<tr>
<th>
Field
Name
</th>
<th>
JSON
Construct
</th>
<th>
Mandatory
</th>
<th>
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
@type
</td>
<td>
array
of
strings
</td>
<td>
yes
</td>
<td>
The
array
<em class="rfc2119" title="MUST">
MUST
</em>
start
with
a
string
"Event"
</td>
</tr>
<tr>
<td>
name
</td>
<td>
string
</td>
<td>
yes
</td>
<td>
Name
of
the
Event
</td>
</tr>
<tr>
<td>
outputData
</td>
<td>
object
</td>
<td>
yes
</td>
<td>
See
<a href="#type-system" class="sec-ref">
<span class="secno">
6.5
</span>
<span class="sec-title">
Type
System
</span>
</a>
</td>
</tr>
<tr>
<td>
link
</td>
<td>
array
of
objects
</td>
<td>
no
</td>
<td>
See
<a href="#link-serialization" class="sec-ref">
<span class="secno">
6.3
</span>
<span class="sec-title">
Link
</span>
</a>
</td>
</tr>
</tbody>
</table>
<p>
Each
field
in
Event
class
(see
<a href="#event" class="sec-ref">
<span class="secno">
5.2.5
</span>
<span class="sec-title">
Event
</span>
</a>
)
is
represented
by
the
namesake
JSON
field
described
in
the
above
table.
</p>
</section>
<section>
<h3 id="link-serialization">
<span class="secno">
6.3
</span>
Link
</h3>
<p>
This
section
describes
JSON-LD
serialization
for
the
instances
of
the
<a href="#link" class="sec-ref">
<span class="secno">
5.2.7
</span>
<span class="sec-title">
Link
</span>
</a>
class.
Shown
below
is
an
example
of
a
link
definition.
</p>
<div class="example">
<div class="example-title marker">
<span>
Example
8
</span>
</div>
                <pre class="hljs javascript" aria-busy="false" aria-live="polite"><span class="hljs-string">"link"</span>: [
  {
    <span class="hljs-string">"href"</span> : <span class="hljs-string">"coap://mytemp.example.com:5683/temp"</span>,
    <span class="hljs-string">"mediaType"</span>: <span class="hljs-string">"application/json"</span>
  }
]
</pre>
</div>
<p>
JSON-LD
representation
for
a
link
definition
is
a
JSON
array
with
name
"link".
Each
item
in
the
array
is
a
JSON
object
that
consists
of
two
JSON
fields
as
summarized
below.
</p>
<table class="def">
<thead>
<tr>
<th>
Field
Name
</th>
<th>
JSON
Construct
</th>
<th>
Mandatory
</th>
<th>
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
href
</td>
<td>
string
</td>
<td>
yes
</td>
<td>
URI.
If
a
relative
URI
is
given
then
this
URI
is
relative
to
base
URI.
</td>
</tr>
<tr>
<td>
mediaType
</td>
<td>
string
</td>
<td>
yes
</td>
<td>
Media
type
based
on
IANA
</td>
</tr>
</tbody>
</table>
<p>
Each
field
in
Link
class
(see
<a href="#link" class="sec-ref">
<span class="secno">
5.2.7
</span>
<span class="sec-title">
Link
</span>
</a>
)
is
represented
by
the
namesake
JSON
field
described
in
the
above
table.
</p>
</section>
<section id="security-serialization">
<h3 id="x6.4-security">
<span class="secno">
6.4
</span>
Security
</h3>
<p>
Shown
below
is
an
example
of
a
security
resource
definition.
</p>
<div class="example">
<div class="example-title marker">
<span>
Example
9
</span>
</div>
                <pre class="hljs javascript" aria-busy="false" aria-live="polite">{
  ...
  <span class="hljs-string">"security"</span>: {
    <span class="hljs-string">"cat"</span>: <span class="hljs-string">"token:jwt"</span>, 
    <span class="hljs-string">"alg"</span>:<span class="hljs-string">"HS256"</span>, 
    <span class="hljs-string">"as"</span>:<span class="hljs-string">"https://authority-issuing.org"</span>
  },
  ...
}
</pre>
</div>
<p>
In
the
above
example,
a
JSON
Web
Token
(JWT)
type
is
assigned
(
<code>
cat
</code>
),
along
with
a
corresponding
hashing
algorithm
"HS256"
(
<code>
alg
</code>
)
and
the
issuing
authority
of
the
security
token
(
<code>
as
</code>
).
</p>
<div class="ednote">
<div class="ednote-title marker" aria-level="4" role="heading" id="h-ednote6">
<span>
Editor's
note
</span>
</div>
<p class="">
Consider
the
need
for
a
context
definition
for
the
above
example.
</p>
</div>
</section>
<section id="type-system">
<h3 id="x6.5-type-system">
<span class="secno">
6.5
</span>
Type
System
</h3>
<p>
All
of
the
three
interaction
types
<code>
Property
</code>,
<code>
Action
</code>,
and
<code>
Event
</code>
can
specify
the
type
of
the
value
acceptable
as
an
input
or
expected
as
an
output
of
the
interaction.
In
this
section,
we
define
an
abstract
type
system
notation
based
on
JSON-LD
for
describing
the
structure
and
datatypes
for
values
of
interaction
types.
While
type
system
is
designed
to
be
compatible
with
JSON
schema
[
<cite>
<a class="bibref" href="#bib-draft-zyp-json-schema-04">
draft-zyp-json-schema-04
</a>
</cite>
]
[
<cite>
<a class="bibref" href="#bib-draft-fge-json-schema-validation-00">
draft-fge-json-schema-validation-00
</a>
</cite>
],
it
is
intended
to
be
encoding-neutral
and
integrates
into
the
Linked
Data
vocabularies
to
allow
semantic
annotations.
It
can
not
only
be
directly
translated
into
JSON
schema,
but
also
can
be
handily
translated
into
XML
Schema.
Use
of
JSON-LD
equips
the
type
system
with
a
way
to
associate
data
elements
with
citations
and
semantic
concepts
defined
elsewhere.
</p>
<p>
For
<code>
Property
</code>
and
<code>
Event
</code>
interaction
types,
each
property
or
event
can
specify
its
value
type
using
<code>
outputData
</code>
field
within
respective
interaction
type
definition.
In
the
following
example,
<code>
temperature
</code>
property
and
<code>
criticalCondition
</code>
event
are
defined
as
<code>
number
</code>
and
<code>
string
</code>,
respectively.
</p>
<div class="example">
<div class="example-title marker">
<span>
Example
10
</span>
</div>
                <pre class="hljs javascript" aria-busy="false" aria-live="polite">{
  ...
  <span class="hljs-string">"interaction"</span>: [
    ...
    {
      <span class="hljs-string">"@type"</span>: [<span class="hljs-string">"Property"</span>],
      <span class="hljs-string">"name"</span>: <span class="hljs-string">"temperature"</span>,
      <span class="hljs-string">"outputData"</span>: { <span class="hljs-string">"type"</span>: <span class="hljs-string">"number"</span> },
      ...
    }
    ...
    {
      <span class="hljs-string">"@type"</span>: [<span class="hljs-string">"Event"</span>],
      <span class="hljs-string">"name"</span>: <span class="hljs-string">"criticalCondition"</span>,
      <span class="hljs-string">"outputData"</span>: { <span class="hljs-string">"type"</span>: <span class="hljs-string">"string"</span> },
      ...
    }
    ...
  ]
  ...
}
</pre>
</div>
<p>
Similarly,
for
<code>
Action
</code>
interaction
type,
each
action
can
specify
its
input
and/or
output
value
type
using
<code>
inputData
</code>
and
<code>
outputData
</code>
field,
respectively.
The
following
is
an
example
value
type
definition
for
an
action.
In
the
example,
<code>
fadeIn
</code>
action
is
defined
to
have
<code>
inputData
</code>
of
type
<code>
number
</code>
and
<code>
outputData
</code>
of
type
<code>
boolean
</code>.
</p>
<div class="example">
<div class="example-title marker">
<span>
Example
11
</span>
</div>
                <pre class="hljs javascript" aria-busy="false" aria-live="polite">{
  ...
  <span class="hljs-string">"interaction"</span>: [
    ...
    {
      <span class="hljs-string">"@type"</span>: [<span class="hljs-string">"Action"</span>],
      <span class="hljs-string">"name"</span>: <span class="hljs-string">"fadeIn"</span>,
      <span class="hljs-string">"inputData"</span>: {
        <span class="hljs-string">"type"</span>: <span class="hljs-string">"number"</span>,
        <span class="hljs-string">"actuator:unit"</span>: <span class="hljs-string">"actuator:ms"</span>
      },
      <span class="hljs-string">"outputData"</span>: {
        <span class="hljs-string">"type"</span>: <span class="hljs-string">"boolean"</span>
      },
      ...
    }
    ...
  ]
  ...
}
</pre>
</div>
<p>
Within
<code>
inputData
</code>
and
<code>
outputData
</code>
fields,
type
system
allows
the
following
definitions
in
the
<code>
type
</code>
field:
</p>
<ul>
<li>
boolean
</li>
<li>
integer
</li>
<li>
number
</li>
<li>
string
</li>
<li>
array
</li>
<li>
object
</li>
</ul>
<p>
These
type
constructs
are
in
parallel
to
those
that
are
available
in
JSON
schema.
Therefore,
serialization
of
data
exchanged
between
servients
is
straightforward
when
it
is
in
JSON
format.
</p>
<section id="simple-data">
<h4 id="x6.5.1-simple-data">
<span class="secno">
6.5.1
</span>
Simple
Data
</h4>
<p>
Consider
the
following
<code>
inputData
</code>
definition
which
defines
the
value
to
be
an
<code>
integer
</code>
within
the
value
range
of
[
0
...
255
].
</p>
<div class="example">
<div class="example-title marker">
<span>
Example
12
</span>
</div>
                    <pre class="hljs javascript" aria-busy="false" aria-live="polite"><span class="hljs-string">"inputData"</span>: { 
  <span class="hljs-string">"type"</span>: <span class="hljs-string">"integer"</span>,
  <span class="hljs-string">"minimum"</span>: <span class="hljs-number">0</span>,
  <span class="hljs-string">"maximum"</span>: <span class="hljs-number">255</span>,
}
</pre>
</div>
<p>
When
the
<code>
integer
</code>
being
exchanged
is
184,
data
serialization
in
JSON
format
will
look
like
the
following:
</p>
<div class="example">
<div class="example-title marker">
<span>
Example
13
</span>
</div>
<pre class="hljs" aria-busy="false" aria-live="polite">
184
</pre>
</div>
<p>
The
snippet
in
the
above
example
is
a
valid
JSON
document
according
to
the
syntax
defined
in
[
<cite>
<a class="bibref" href="#bib-RFC7159">
RFC7159
</a>
</cite>
],
which
allows
sending
simple
types
in
the
root
of
the
document.
There
is
no
need
for
wrapping
a
single
value
into
an
object.
</p>
<p>
The
same
data
(i.e.
a
number
equal
to
184)
will
look
like
the
following
when
the
data
is
exchanged
in
XML.
</p>
<div class="example">
<div class="example-title marker">
<span>
Example
14
</span>
</div>
<pre class="hljs xml" aria-busy="false" aria-live="polite">
<span class="hljs-tag">
&lt;
<span class="hljs-name">
integer
</span>
&gt;
</span>
184
<span class="hljs-tag">
&lt;/
<span class="hljs-name">
integer
</span>
&gt;
</span>
</pre>
</div>
</section>
<section id="structured-data">
<h4 id="x6.5.2-structured-data">
<span class="secno">
6.5.2
</span>
Structured
Data
</h4>
<p>
In
the
previous
section,
we
used
an
example
<code>
inputData
</code>
definition
consisting
of
a
single
<code>
integer
</code>.
</p>
<p>
With
the
type
system,
it
is
also
possible
to
define
value
types
that
have
more
than
one
literal
value.
The
type
system
provides
two
distinct
constructs
to
define
a
structure
that
can
have
multiple
literal
values.
One
is
the
<code>
object
</code>,
and
the
other
is
the
<code>
array
</code>.
</p>
<section>
<h5 id="type-system-object">
<span class="secno">
6.5.2.1
</span>
Object
</h5>
<p>
The
following
is
an
example
<code>
inputData
</code>
definition
that
defines
the
value
to
be
an
<code>
object
</code>
consisting
of
two
named
literals
<code>
id
</code>
(of
type
<code>
integer
</code>
)
and
<code>
name
</code>
(of
type
<code>
string
</code>
)
where
<code>
id
</code>
is
required
to
be
present.
</p>
<div class="example">
<div class="example-title marker">
<span>
Example
15
</span>
</div>
                        <pre class="hljs javascript" aria-busy="false" aria-live="polite"><span class="hljs-string">"inputData"</span>: {
    <span class="hljs-string">"type"</span>: <span class="hljs-string">"object"</span>,
    <span class="hljs-string">"fields"</span>: [
        {
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"id"</span>,
            <span class="hljs-string">"value"</span>: {
              <span class="hljs-string">"type"</span>: <span class="hljs-string">"integer"</span>
            }
        },
        {
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"name"</span>,
            <span class="hljs-string">"value"</span>: {
              <span class="hljs-string">"type"</span>: <span class="hljs-string">"string"</span>
            }
        }
    ],
    <span class="hljs-string">"required"</span>: [<span class="hljs-string">"id"</span>]
}
</pre>
</div>
<p>
When
the
<code>
id
</code>
number
and
the
<code>
name
</code>
string
values
being
exchanged
are
1314520
and
"Web
of
Things",
data
serialization
in
JSON
format
will
look
like
the
following.
</p>
<div class="example">
<div class="example-title marker">
<span>
Example
16
</span>
</div>
                        <pre class="hljs json" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"id"</span>: <span class="hljs-number">1314520</span>,
  <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Web of Things"</span>
}
</pre>
</div>
<p>
The
above
data
will
look
the
following
when
the
data
is
exchanged
in
XML.
</p>
<div class="example">
<div class="example-title marker">
<span>
Example
17
</span>
</div>
                        <pre class="hljs xml" aria-busy="false" aria-live="polite"><span class="hljs-tag">&lt;<span class="hljs-name">object</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">integer</span>&gt;</span>1314520<span class="hljs-tag">&lt;/<span class="hljs-name">integer</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">string</span>&gt;</span>Web of Things<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
<span class="hljs-tag">
&lt;/
<span class="hljs-name">
object
</span>
&gt;
</span>
</pre>
</div>
<p>
In
both
JSON
and
XML
serialization,
values
can
appear
in
any
order
regardless
of
the
order
used
in
the
<code>
fields
</code>
definition
of
the
<code>
object
</code>.
</p>
</section>
<section>
<h5 id="type-system-array">
<span class="secno">
6.5.2.2
</span>
Array
</h5>
<p>
The
following
is
an
example
<code>
valueType
</code>
definition
that
defines
the
value
to
be
an
<code>
array
</code>
that
consists
of
exactly
three
number
literals
with
each
value
within
the
range
of
[
0
...
2047
].
</p>
<div class="example">
<div class="example-title marker">
<span>
Example
18
</span>
</div>
                        <pre class="hljs javascript" aria-busy="false" aria-live="polite"><span class="hljs-string">"inputData"</span>: {
    <span class="hljs-string">"type"</span>: <span class="hljs-string">"array"</span>,
    <span class="hljs-string">"items"</span>: {
        <span class="hljs-string">"type"</span> : <span class="hljs-string">"number"</span>,
        <span class="hljs-string">"minimum"</span>: <span class="hljs-number">0</span>,
        <span class="hljs-string">"maximum"</span>: <span class="hljs-number">2047</span>
    },
    <span class="hljs-string">"minItems"</span> : <span class="hljs-number">3</span>,
    <span class="hljs-string">"maxItems"</span> : <span class="hljs-number">3</span>
}
</pre>
</div>
<p>
When
the
numbers
being
exchanged
are
520,
184
and
1314,
data
serialization
in
JSON
format
will
look
like
the
following.
</p>
<div class="example">
<div class="example-title marker">
<span>
Example
19
</span>
</div>
                        <pre class="hljs json" aria-busy="false" aria-live="polite">[
  <span class="hljs-number">520</span>,
  <span class="hljs-number">184</span>,
  <span class="hljs-number">1314</span>
]
</pre>
</div>
<p>
The
above
data
will
look
the
following
when
the
data
is
exchanged
in
XML.
</p>
<div class="example">
<div class="example-title marker">
<span>
Example
20
</span>
</div>
                        <pre class="hljs xml" aria-busy="false" aria-live="polite"><span class="hljs-tag">&lt;<span class="hljs-name">array</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">number</span>&gt;</span>520<span class="hljs-tag">&lt;/<span class="hljs-name">number</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">number</span>&gt;</span>184<span class="hljs-tag">&lt;/<span class="hljs-name">number</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">number</span>&gt;</span>1314<span class="hljs-tag">&lt;/<span class="hljs-name">number</span>&gt;</span>
<span class="hljs-tag">
&lt;/
<span class="hljs-name">
array
</span>
&gt;
</span>
</pre>
</div>
</section>
</section>
<section id="mapping-to-xml-schema">
<h4 id="x6.5.3-mapping-to-xml-schema">
<span class="secno">
6.5.3
</span>
Mapping
to
XML
Schema
</h4>
<p>
In
the
previous
section,
examples
showed
what
data
whose
value
type
is
described
using
the
type
system
look
like
when
serialized
to
XML
in
parallel
to
corresponding
JSON
serializations.
</p>
<p>
This
section
describes
how
type
definitions
described
using
the
type
system
can
be
mapped
to
XML
schema
definitions
by
using
the
same
examples.
Given
these
type
definitions,
providing
the
mapping
to
XML
schema
allows
XML
tools
to
directly
validate
serialized
XML
data,
for
example.
The
XML
structure
for
which
this
mapping
is
designed
is
based
on
EXI4JSON
[
<cite>
<a class="bibref" href="#bib-exi-for-json">
exi-for-json
</a>
</cite>
].
</p>
<section id="object-definition-to-xml-schema">
<h5 id="x6.5.3.1-object-definition-to-xml-schema">
<span class="secno">
6.5.3.1
</span>
Object
Definition
to
XML
Schema
</h5>
<p>
Shown
below
is
the
type
system
<code>
object
</code>
definition
given
for
the
<code>
inputData
</code>
in
Section
<a href="#type-system-object">
Object
</a>.
The
<code>
object
</code>
consists
of
two
named
literals
<code>
id
</code>
(of
type
<code>
integer
</code>
)
and
<code>
name
</code>
(of
type
<code>
string
</code>
)
where
<code>
id
</code>
is
required
to
be
present.
</p>
<div class="example">
<div class="example-title marker">
<span>
Example
21
</span>
</div>
                        <pre class="hljs json" aria-busy="false" aria-live="polite">{
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
    <span class="hljs-attr">"fields"</span>: [
        {
            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"id"</span>,
            <span class="hljs-attr">"value"</span>: {
              <span class="hljs-attr">"type"</span>: <span class="hljs-string">"integer"</span>
            }
        },
        {
            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"name"</span>,
            <span class="hljs-attr">"value"</span>: {
              <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>
            }
        }
    ],
    <span class="hljs-attr">"required"</span>: [<span class="hljs-string">"id"</span>]
}
</pre>
</div>
<p>
When
the
<code>
object
</code>
is
anonymous
(i.e.
it
is
the
root,
or
participates
in
an
<code>
array
</code>
definition),
the
above
<code>
object
</code>
definition
transforms
to
the
following
XML
Schema
element
definition.
</p>
<div class="example">
<div class="example-title marker">
<span>
Example
22
</span>
</div>
                        <pre class="hljs xml" aria-busy="false" aria-live="polite"><span class="hljs-tag">&lt;<span class="hljs-name">xs:element</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"object"</span> <span class="hljs-attr">xmlns:xs</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">xs:complexType</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">xs:all</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">xs:element</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"id"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">xs:complexType</span>&gt;</span>
                  <span class="hljs-tag">&lt;<span class="hljs-name">xs:sequence</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">xs:element</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"integer"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"xs:integer"</span> /&gt;</span>
                  <span class="hljs-tag">&lt;/<span class="hljs-name">xs:sequence</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">xs:complexType</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">xs:element</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">xs:element</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">minOccurs</span>=<span class="hljs-string">"0"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">xs:complexType</span>&gt;</span>
                  <span class="hljs-tag">&lt;<span class="hljs-name">xs:sequence</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">xs:element</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"string"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"xs:string"</span> /&gt;</span>
                  <span class="hljs-tag">&lt;/<span class="hljs-name">xs:sequence</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">xs:complexType</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">xs:element</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">xs:all</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">xs:complexType</span>&gt;</span>
<span class="hljs-tag">
&lt;/
<span class="hljs-name">
xs:element
</span>
&gt;
</span>
</pre>
</div>
<p>
Otherwise
(i.e.
the
<code>
object
</code>
is
a
member
of
another
<code>
object
</code>
definition,
thus
has
a
name),
the
<code>
object
</code>
definition
transforms
to
the
following
XML
schema
element
definition.
Note
<code>
<i>
$name
</i>
</code>
represents
the
name
of
the
<code>
object
</code>,
and
needs
to
be
replaced
by
the
actual
name
of
the
<code>
object
</code>.
</p>
<div class="example">
<div class="example-title marker">
<span>
Example
23
</span>
</div>
                        <pre class="hljs xml" aria-busy="false" aria-live="polite"><span class="hljs-tag">&lt;<span class="hljs-name">xs:element</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"$name"</span> <span class="hljs-attr">xmlns:xs</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">xs:complexType</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">xs:sequence</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">xs:element</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"object"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">xs:complexType</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">xs:all</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">xs:element</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"id"</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">xs:complexType</span>&gt;</span>
                              <span class="hljs-tag">&lt;<span class="hljs-name">xs:sequence</span>&gt;</span>
                                <span class="hljs-tag">&lt;<span class="hljs-name">xs:element</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"integer"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"xs:integer"</span> /&gt;</span>
                              <span class="hljs-tag">&lt;/<span class="hljs-name">xs:sequence</span>&gt;</span>
                            <span class="hljs-tag">&lt;/<span class="hljs-name">xs:complexType</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">xs:element</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">xs:element</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">minOccurs</span>=<span class="hljs-string">"0"</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">xs:complexType</span>&gt;</span>
                              <span class="hljs-tag">&lt;<span class="hljs-name">xs:sequence</span>&gt;</span>
                                <span class="hljs-tag">&lt;<span class="hljs-name">xs:element</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"string"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"xs:string"</span> /&gt;</span>
                              <span class="hljs-tag">&lt;/<span class="hljs-name">xs:sequence</span>&gt;</span>
                            <span class="hljs-tag">&lt;/<span class="hljs-name">xs:complexType</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">xs:element</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">xs:all</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">xs:complexType</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">xs:element</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">xs:sequence</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">xs:complexType</span>&gt;</span>
<span class="hljs-tag">
&lt;/
<span class="hljs-name">
xs:element
</span>
&gt;
</span>
</pre>
</div>
</section>
<section id="array-definition-to-xml-schema">
<h5 id="x6.5.3.2-array-definition-to-xml-schema">
<span class="secno">
6.5.3.2
</span>
Array
Definition
to
XML
Schema
</h5>
<p>
Shown
below
is
the
type
system
<code>
array
</code>
definition
given
for
the
<code>
inputData
</code>
in
Section
<a href="#type-system-array">
Array
</a>.
The
<code>
array
</code>
consists
of
exactly
three
number
literals
with
each
value
within
the
value
range
of
[
0
...
2047
].
</p>
<div class="example">
<div class="example-title marker">
<span>
Example
24
</span>
</div>
                        <pre class="hljs json" aria-busy="false" aria-live="polite">{
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"array"</span>,
    <span class="hljs-attr">"items"</span>: {
        <span class="hljs-attr">"type"</span> : <span class="hljs-string">"number"</span>,
        <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">2047</span>
    },
    <span class="hljs-attr">"minItems"</span> : <span class="hljs-number">3</span>,
    <span class="hljs-attr">"maxItems"</span> : <span class="hljs-number">3</span>
}
</pre>
</div>
<p>
When
the
<code>
array
</code>
is
anonymous
(i.e.
it
is
the
root,
or
participates
in
another
<code>
array
</code>
definition),
the
above
<code>
array
</code>
definition
transforms
to
the
following
XML
Schema
element
definition.
</p>
<div class="example">
<div class="example-title marker">
<span>
Example
25
</span>
</div>
                        <pre class="hljs xml" aria-busy="false" aria-live="polite"><span class="hljs-tag">&lt;<span class="hljs-name">xs:element</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"array"</span> <span class="hljs-attr">xmlns:xs</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">xs:complexType</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">xs:sequence</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">xs:element</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"double"</span> <span class="hljs-attr">minOccurs</span>=<span class="hljs-string">"3"</span> <span class="hljs-attr">maxOccurs</span>=<span class="hljs-string">"3"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">xs:simpleType</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"minInclusive"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">xs:restriction</span> <span class="hljs-attr">base</span>=<span class="hljs-string">"xs:double"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">xs:minInclusive</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"0"</span>/&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">xs:maxInclusive</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"2047"</span>/&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">xs:restriction</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">xs:simpleType</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">xs:element</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">xs:sequence</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">xs:complexType</span>&gt;</span>
<span class="hljs-tag">
&lt;/
<span class="hljs-name">
xs:element
</span>
&gt;
</span>
</pre>
</div>
<p>
Otherwise
(i.e.
the
<code>
array
</code>
is
a
member
of
an
<code>
object
</code>
definition,
thus
has
a
name),
the
<code>
array
</code>
definition
transforms
to
the
following
XML
schema
element
definition.
Note
<code>
<i>
$name
</i>
</code>
represents
the
name
of
the
<code>
array
</code>,
and
needs
to
be
replaced
by
the
actual
name
of
the
<code>
array
</code>.
</p>
<div class="example">
<div class="example-title marker">
<span>
Example
26
</span>
</div>
                        <pre class="hljs xml" aria-busy="false" aria-live="polite"><span class="hljs-tag">&lt;<span class="hljs-name">xs:element</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"$name"</span> <span class="hljs-attr">xmlns:xs</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">xs:complexType</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">xs:sequence</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">xs:element</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"array"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">xs:complexType</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">xs:sequence</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">xs:element</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"double"</span> <span class="hljs-attr">minOccurs</span>=<span class="hljs-string">"3"</span> <span class="hljs-attr">maxOccurs</span>=<span class="hljs-string">"3"</span> &gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">xs:simpleType</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"minInclusive"</span>&gt;</span>
                                <span class="hljs-tag">&lt;<span class="hljs-name">xs:restriction</span> <span class="hljs-attr">base</span>=<span class="hljs-string">"xs:double"</span>&gt;</span>
                                    <span class="hljs-tag">&lt;<span class="hljs-name">xs:minInclusive</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"0"</span>/&gt;</span>
                                    <span class="hljs-tag">&lt;<span class="hljs-name">xs:maxInclusive</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"2047"</span>/&gt;</span>
                                <span class="hljs-tag">&lt;/<span class="hljs-name">xs:restriction</span>&gt;</span>
                            <span class="hljs-tag">&lt;/<span class="hljs-name">xs:simpleType</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">xs:element</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">xs:sequence</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">xs:complexType</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">xs:element</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">xs:sequence</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">xs:complexType</span>&gt;</span>
<span class="hljs-tag">
&lt;/
<span class="hljs-name">
xs:element
</span>
&gt;
</span>
</pre>
</div>
</section>
</section>
</section>
<section id="parsing">
<h3 id="x6.6-parsing">
<span class="secno">
6.6
</span>
Parsing
</h3>
<p>
To
parse
a
valid
Thing
Description
a
simple
JSON-based
parser
and
tools
can
be
used
to
retrieve
the
content.
To
validate
and
follow
references
to
external
context
vocabulary,
JSON-LD
or
RDF-based
parsing
tools
and
libraries
are
highly
recommended.
</p>
</section>
<section id="examples">
<h3 id="x6.7-examples">
<span class="secno">
6.7
</span>
Examples
</h3>
<p>
In
the
following,
we
give
examples
of
full
TDs.
The
first
one,
a
temperature
sensor,
shows
how
to
define
relations
between
Thing
Properties.
As
a
second
example,
we
modeled
an
actuator
(LED
lamp)
where
Actions
have
all
been
characterized
semantically,
so
that
machines
could
unambiguously
interpret
them
in
an
automated
manner.
At
last,
association
between
Things
is
shown
by
defining
a
master
switch
controlling
other
LED
lamps.
</p>
<section id="temperature-sensor">
<h4 id="x6.7.1-temperature-sensor">
<span class="secno">
6.7.1
</span>
Temperature
Sensor
</h4>
<div class="example">
<div class="example-title marker">
<span>
Example
27
</span>
</div>
                    <pre class="hljs json" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"@context"</span>: [<span class="hljs-string">"https://w3c.github.io/wot/w3c-wot-td-context.jsonld"</span>,
               <span class="hljs-string">"https://w3c.github.io/wot/w3c-wot-common-context.jsonld"</span>],
  <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"Sensor"</span>],
  <span class="hljs-attr">"name"</span>: <span class="hljs-string">"myTempSensor"</span>,
  <span class="hljs-attr">"base"</span> : <span class="hljs-string">"coap:///www.example.com:5683/temp/"</span>,
  <span class="hljs-attr">"interaction"</span>: [
    {
      <span class="hljs-attr">"@id"</span>: <span class="hljs-string">"val"</span>,
      <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"Property"</span>,<span class="hljs-string">"Temperature"</span>],
      <span class="hljs-attr">"unit"</span>: <span class="hljs-string">"celsius"</span>,
      <span class="hljs-attr">"reference"</span>: <span class="hljs-string">"threshold"</span>,
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"myTemp"</span>,
      <span class="hljs-attr">"outputData"</span>: { <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span> },
      <span class="hljs-attr">"writable"</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">"link"</span>: [{
          <span class="hljs-attr">"href"</span> : <span class="hljs-string">"val"</span>,
          <span class="hljs-attr">"mediaType"</span>: <span class="hljs-string">"application/json"</span>
      }]
    }, 
    {
      <span class="hljs-attr">"@id"</span>: <span class="hljs-string">"threshold"</span>,
      <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"Property"</span>,<span class="hljs-string">"Temperature"</span>],
      <span class="hljs-attr">"unit"</span>: <span class="hljs-string">"celsius"</span>,
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"myThreshold"</span>,
      <span class="hljs-attr">"outputData"</span>: { <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span> },
      <span class="hljs-attr">"writable"</span>: <span class="hljs-literal">true</span>,
         <span class="hljs-attr">"link"</span>: [{
          <span class="hljs-attr">"href"</span> : <span class="hljs-string">"thr"</span>,
          <span class="hljs-attr">"mediaType"</span>: <span class="hljs-string">"application/json"</span>
      }]
    },
    {
      <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"Event"</span>],
      <span class="hljs-attr">"outputData"</span>: { <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span> },
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"myChange"</span>,
      <span class="hljs-attr">"property"</span>: <span class="hljs-string">"temp"</span>,
      <span class="hljs-attr">"link"</span>: [{
          <span class="hljs-attr">"href"</span> : <span class="hljs-string">"val/changed"</span>,
          <span class="hljs-attr">"mediaType"</span>: <span class="hljs-string">"application/json"</span>
      }]
    }, 
    {
      <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"Event"</span>],
      <span class="hljs-attr">"outputData"</span>:  { <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span> },
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"myWarning"</span>,
      <span class="hljs-attr">"link"</span>: [{
          <span class="hljs-attr">"href"</span> : <span class="hljs-string">"val/high"</span>,
          <span class="hljs-attr">"mediaType"</span>: <span class="hljs-string">"application/json"</span>
      }]
    }
  ]
}
</pre>
</div>
<p>
The
Thing
<code>
myTempSensor
</code>
defines
two
Properties:
<code>
myTemp
</code>
and
<code>
myThreshold
</code>.
Both
are
defined
as
temperatures,
with
the
same
unit
(
<code>
celsius
</code>
).
A
client
that
is
able
to
parse
a
TD
only
needs
to
know
the
predicate
<code>
reference
</code>
to
understand
that
the
threshold
acts
as
a
reference
value
for
<code>
myTemp
</code>
while
the
latter
is
the
actual
value
measured
by
the
temperature
sensor.
Here,
<code>
reference
</code>
points
to
<code>
<a href="http://schema.org/valueReference">
http://schema.org/valueReference
</a>
</code>.
</p>
<p>
Moreover,
one
of
the
Events
of
the
Thing
is
linked
to
the
measured
value
(with
the
predicate
<code>
property
</code>
).
It
means
in
that
context
that
an
event
should
be
triggered
each
time
<code>
myTemp
</code>
changes.
The
other
Event
does
not
define
further
semantics.
It
could
be
used
either
in
a
closed
system
(where
clients
are
aware
of
its
meaning)
or
by
a
human
but
an
external
agent
would
not
have
sufficient
information
to
interpret
it.
</p>
</section>
<section id="led-master-switch">
<h4 id="x6.7.2-led-master-switch">
<span class="secno">
6.7.2
</span>
LED
Master
Switch
</h4>
<div class="example">
<div class="example-title marker">
<span>
Example
28
</span>
</div>
                    <pre class="hljs json" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"@context"</span>: [<span class="hljs-string">"https://w3c.github.io/wot/w3c-wot-td-context.jsonld"</span>,
               <span class="hljs-string">"https://w3c.github.io/wot/w3c-wot-common-context.jsonld"</span>],
  <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"Lamp"</span>],
  <span class="hljs-attr">"name"</span>: <span class="hljs-string">"myMasterLED"</span>,
  <span class="hljs-attr">"interaction"</span>: [
    {
      <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"Action"</span>, <span class="hljs-string">"Toggle"</span>],
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"myMasterOnOff"</span>,
      <span class="hljs-attr">"inputData"</span>: {
        <span class="hljs-attr">"@type"</span>: <span class="hljs-string">"OnOff"</span>,
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"boolean"</span>
      },
      <span class="hljs-attr">"link"</span>: [
        {
          <span class="hljs-attr">"href"</span> : <span class="hljs-string">"coap://www.example.com:5683/master"</span>,
          <span class="hljs-attr">"mediaType"</span>: <span class="hljs-string">"application/json"</span>
        },
        {
          <span class="hljs-attr">"href"</span> : <span class="hljs-string">"http://www.example.com:80/master"</span>,
          <span class="hljs-attr">"mediaType"</span>: <span class="hljs-string">"application/json"</span>
        }
      ]
    }
  ]
}
</pre>
</div>
<div class="ednote">
<div class="ednote-title marker" aria-level="5" role="heading" id="h-ednote7">
<span>
Editor's
note
</span>
</div>
<p class="">
In
this
last
example,
it
would
be
good
to
illustrate
the
use
of
<code>
associations
</code>.
The
Thing
we
modeled
here
acts
as
a
master
switch
for
eight
lamps
similar
to
that
of
<del class="diff-old">.
</del>
<ins class="diff-chg">LED
actuators.
</ins>
This
means
switching
on
and
off
<code>
myMasterOnOff
</code>
will
propagate
to
all
associated
Things
by
toggling
their
Action
that
is
also
of
type
<code>
Toggle
</code>.
No
precise
semantics
for
<code>
associations
</code>
have
been
defined
yet
and
there
might
exist
many
other
kinds
of
dependency
between
Things
than
simply
parent/child
relations.
This
issue
will
be
addressed
soon.
Until
then,
Thing
associations
could
be
useful
for
discovery.
</p>
</div>
</section>
</section>
</section>
<section id="security-consideration">
<h2 id="x7.-security-and-privacy-considerations">
<span class="secno">
7.
</span>
Security
and
Privacy
Considerations
</h2>
<div class="ednote">
<div class="ednote-title marker" aria-level="3" role="heading" id="h-ednote8">
<span>
Editor's
note
</span>
</div>
<p class="">
Please
see
the
<a href="https://github.com/w3c/wot-security/">
WoT
Security
and
Privacy
</a>
repository
for
work
in
progress
regarding
threat
models,
assets,
risks,
recommended
mitigations,
and
best
practices
for
security
and
privacy
for
systems
using
the
Web
of
Things.
Once
complete,
security
and
privacy
considerations
relevant
to
Thing
Descriptions
will
be
summarized
in
this
section.
</p>
</div>
</section>
<section id="acknowledgements" class="appendix normative">
<h2 id="a.-acknowledgements">
<span class="secno">
A.
</span>
Acknowledgements
</h2>
<p>
This
document
contains
a
significant
contribution
from
Web
of
Things
members:
...
</p>
</section>
<section id="references" class="appendix">
<h2 id="b.-references">
<span class="secno">
B.
</span>
References
</h2>
<section id="normative-references">
<h3 id="b.1-normative-references">
<span class="secno">
B.1
</span>
Normative
references
</h3>
<dl class="bibliography">
<dt id="bib-RFC2119">
<ins class="diff-new">[RFC2119]
</ins></dt><dd><a href="https://tools.ietf.org/html/rfc2119"><cite><ins class="diff-new">
Key
words
for
use
in
RFCs
to
Indicate
Requirement
Levels
</ins></cite></a>.<ins class="diff-new">
S.
Bradner.
IETF.
March
1997.
Best
Current
Practice.
URL:
</ins><a href="https://tools.ietf.org/html/rfc2119"><ins class="diff-new">
https://tools.ietf.org/html/rfc2119
</ins></a></dd>
<dt id="bib-RFC3986">
[RFC3986]
</dt>
<dd>
<a href="https://tools.ietf.org/html/rfc3986">
<cite>
Uniform
Resource
Identifier
(URI):
Generic
Syntax
</cite>
</a>.
T.
Berners-Lee;
R.
Fielding;
L.
Masinter.
IETF.
January
2005.
Internet
Standard.
URL:
<a href="https://tools.ietf.org/html/rfc3986">
https://tools.ietf.org/html/rfc3986
</a>
</dd>
<dt id="bib-RFC7159">
[RFC7159]
</dt>
<dd>
<a href="https://tools.ietf.org/html/rfc7159">
<cite>
The
JavaScript
Object
Notation
(JSON)
Data
Interchange
Format
</cite>
</a>.
T.
Bray,
Ed..
IETF.
March
2014.
Proposed
Standard.
URL:
<a href="https://tools.ietf.org/html/rfc7159">
https://tools.ietf.org/html/rfc7159
</a>
</dd>
<dt id="bib-WOT-ARCHITECTURE">
[WOT-ARCHITECTURE]
</dt>
<dd>
<a href="https://w3c.github.io/wot-architecture/">
<cite>
Web
of
Things
Architecture
</cite>
</a>.
Kazuo
Kajimoto;
Matthias
Kovatsch;
Uday
Davuluru.
W3C.
20
August
2017.
URL:
<a href="https://w3c.github.io/wot-architecture/">
https://w3c.github.io/wot-architecture/
</a>
</dd>
</dl>
</section>
<section id="informative-references">
<h3 id="b.2-informative-references">
<span class="secno">
B.2
</span>
Informative
references
</h3>
<dl class="bibliography">
<dt id="bib-draft-fge-json-schema-validation-00">
[draft-fge-json-schema-validation-00]
</dt>
<dd>
<a href="https://tools.ietf.org/html/draft-fge-json-schema-validation-00">
<cite>
JSON
Schema:
interactive
and
non
interactive
validation
</cite>
</a>.
Kris
Zyp;
Gary
Court.
IETF.
Internet-Draft.
URL:
<a href="https://tools.ietf.org/html/draft-fge-json-schema-validation-00">
https://tools.ietf.org/html/draft-fge-json-schema-validation-00
</a>
</dd>
<dt id="bib-draft-zyp-json-schema-04">
[draft-zyp-json-schema-04]
</dt>
<dd>
<a href="https://tools.ietf.org/html/draft-zyp-json-schema-04">
<cite>
JSON
Schema:
core
definitions
and
terminology
</cite>
</a>.
Kris
Zyp;
Gary
Court.
IETF.
Internet-Draft.
URL:
<a href="https://tools.ietf.org/html/draft-zyp-json-schema-04">
https://tools.ietf.org/html/draft-zyp-json-schema-04
</a>
</dd>
<dt id="bib-exi-for-json">
[exi-for-json]
</dt>
<dd>
<a href="https://www.w3.org/TR/exi-for-json/">
<cite>
EXI
for
JSON
(EXI4JSON)
</cite>
</a>.
Daniel
Peintner;
Don
Brutzman.
W3C.
23
August
2016.
W3C
Working
Draft.
URL:
<a href="https://www.w3.org/TR/exi-for-json/">
https://www.w3.org/TR/exi-for-json/
</a>
</dd>
</dl>
</section>
</section>
<p role="navigation" id="back-to-top">
<a href="#toc">
<abbr title="Back to Top">
â†‘
</abbr>
</a>
</p>
<script src="https://www.w3.org/scripts/TR/2016/fixup.js">
</script>
</body>
</html>
